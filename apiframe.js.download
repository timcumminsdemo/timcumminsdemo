/*! For license information please see apiframe.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/static/bundles/widget/",n(n.s=100)}([function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return u}));var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},,function(t,e,n){"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _(t,Error)}}function o(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function i(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function a(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&_(t,Event)}function p(t){return"undefined"!=typeof Element&&_(t,Element)}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function d(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function h(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function _(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"k",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"j",(function(){return f})),n.d(e,"m",(function(){return d})),n.d(e,"l",(function(){return h})),n.d(e,"g",(function(){return _}))},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u}));function r(t){return`?${Object.entries(t).map((([t,e])=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&")}`}function o(t){const e=document.createElement("a");e.href=t;const n={protocol:e.protocol,hostname:e.hostname,href:e.href,pathname:e.pathname,host:e.host,port:e.port,origin:e.origin,search:e.search};return("443"===e.port&&"https:"===e.protocol||"80"===e.port&&"http:"===e.protocol)&&(n.port="",n.host=n.hostname),"/"!==e.pathname[0]&&(n.pathname="/"+n.pathname),n.origin=n.protocol+"//"+n.hostname+(n.port?":"+n.port:""),n}function i(t,e){let n="";t=t.split("."),e=e.split("."),t.reverse(),e.reverse();for(let r=0;r<t.length&&r<e.length&&t[r]===e[r];r++)n="."+t[r]+n;return n}function s(t){if(!t)return null;const e={};"?"===t[0]&&(t=t.substr(1));const n=t.replace(/\+/g," ").split("&");let r=!0;for(let t=0;t<n.length;t++){const o=n[t].split("="),i=decodeURIComponent(o[0]);i&&(o.length>2&&(o[1]=o.slice(1).join("=")),e[i]=decodeURIComponent(o[1]||""),r=!1)}return r?null:e}function a(t){const e=/^www\.(.*)/.exec(t);return e?e[1]:t}function c(t){return 0===t.indexOf("http://")||0===t.indexOf("https://")}function u(t){const e=t.indexOf("#");return-1===e?t:t.substring(0,e)}},function(t,e,n){"use strict";var r,o=SyntaxError,i=Function,s=TypeError,a=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,p=n(28)(),f=Object.getPrototypeOf||function(t){return t.__proto__},d={},h="undefined"==typeof Uint8Array?r:f(Uint8Array),_={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};try{null.error}catch(t){var y=f(f(t));_["%Error.prototype%"]=y}var g=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=f(o.prototype))}return _[e]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(20),b=n(30),w=v.call(Function.call,Array.prototype.concat),S=v.call(Function.apply,Array.prototype.splice),O=v.call(Function.call,String.prototype.replace),x=v.call(Function.call,String.prototype.slice),E=v.call(Function.call,RegExp.prototype.exec),j=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,R=function(t){var e=x(t,0,1),n=x(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return O(t,j,(function(t,e,n,o){r[r.length]=n?O(o,k,"$1"):e||t})),r},T=function(t,e){var n,r=t;if(b(m,r)&&(r="%"+(n=m[r])[0]+"%"),b(_,r)){var i=_[r];if(i===d&&(i=g(r)),void 0===i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=R(t),r=n.length>0?n[0]:"",i=T("%"+r+"%",e),a=i.name,u=i.value,l=!1,p=i.alias;p&&(r=p[0],S(n,w([0,1],p)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],y=x(h,0,1),g=x(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&d||(l=!0),b(_,a="%"+(r+="."+h)+"%"))u=_[a];else if(null!=u){if(!(h in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&f+1>=n.length){var m=c(u,h);u=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:u[h]}else d=b(u,h),u=u[h];d&&!l&&(_[a]=u)}}return u}},function(t,e,n){"use strict";(function(t){n.d(e,"e",(function(){return i})),n.d(e,"i",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return h}));var r=n(15),o=(n(9),{});function i(){return Object(r.b)()?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function s(){var t=i(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function a(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function c(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function u(t){var e=i();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}function l(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function p(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function f(){try{return document.location.href}catch(t){return""}}var d=6e4;function h(t,e){if(!e)return d;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?d:r-t}}).call(this,n(19))},function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return y})),n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m}));var r=n(0),o=n(22),i=n(2),s=n(44),a=n(18),c=n(9);function u(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=o}}function l(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function p(t){if(Object(i.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Object(i.f)(t)){var s=t,a={};a.type=s.type;try{a.target=Object(i.c)(s.target)?Object(o.a)(s.target):Object.prototype.toString.call(s.target)}catch(t){a.target="<unknown>"}try{a.currentTarget=Object(i.c)(s.currentTarget)?Object(o.a)(s.currentTarget):Object.prototype.toString.call(s.currentTarget)}catch(t){a.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(i.g)(t,CustomEvent)&&(a.detail=s.detail),s)Object.prototype.hasOwnProperty.call(s,r)&&(a[r]=s);return a}return t}function f(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function d(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=y(t,e);return f(r)>n?d(t,e-1,n):r}function h(e,n){return"domain"===n&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(i.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(a.a)(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e}function _(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new s.a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=h(t);return Object(i.i)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var o=h(e,t);if(Object(i.i)(o))return o;var a=p(e),c=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(c[u]=_(u,a[u],n-1,r));return r.unmemoize(e),c}function y(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return _(t,n,e)})))}catch(t){return"**non-serializable**"}}function g(t,e){void 0===e&&(e=40);var n=Object.keys(p(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(c.d)(n[0],e);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>e))return r===n.length?o:Object(c.d)(o,e)}return""}function m(t){var e,n;if(Object(i.h)(t)){var o=t,s={};try{for(var a=Object(r.f)(Object.keys(o)),c=a.next();!c.done;c=a.next()){var u=c.value;void 0!==o[u]&&(s[u]=m(o[u]))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s}return Array.isArray(t)?t.map(m):t}}).call(this,n(19))},function(t,e,n){"use strict";var r=n(4),o=n(17),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},,function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n(2);function o(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function i(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var o=Math.max(e-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}function s(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var o=t[r];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!Object(r.k)(t)&&(Object(r.j)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},function(t,e,n){"use strict";var r=n(59),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=n(61)(),u=a&&c,l=function(t,e,n,r){var o;(!(e in t)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(u?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},p=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=s.call(i,Object.getOwnPropertySymbols(e)));for(var a=0;a<i.length;a+=1)l(t,i[a],e[i[a]],n[i[a]])};p.supportsDescriptors=!!u,t.exports=p},,function(t,e,n){"use strict";t.exports=n(63)},function(t,e,n){"use strict";var r=n(69);t.exports=function(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":r(t)}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var s,a,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";(function(t,r){n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));n(2),n(6);function o(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}function i(t,e){return t.require(e)}}).call(this,n(54),n(26)(t))},function(t,e,n){(function(t,r){var o;!function(i){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,u=36,l=1,p=26,f=38,d=700,h=72,_=128,y="-",g=/^xn--/,m=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-l,S=Math.floor,O=String.fromCharCode;function x(t){throw new RangeError(b[t])}function E(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function j(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+E((t=t.replace(v,".")).split("."),e).join(".")}function k(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function R(t){return E(t,(function(t){var e="";return t>65535&&(e+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=O(t)})).join("")}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,n){var r=0;for(t=n?S(t/d):t>>1,t+=S(t/e);t>w*p>>1;r+=u)t=S(t/w);return S(r+(w+1)*t/(t+f))}function A(t){var e,n,r,o,i,s,a,f,d,g,m,v=[],b=t.length,w=0,O=_,E=h;for((n=t.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&x("not-basic"),v.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<b;){for(i=w,s=1,a=u;o>=b&&x("invalid-input"),((f=(m=t.charCodeAt(o++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||f>S((c-w)/s))&&x("overflow"),w+=f*s,!(f<(d=a<=E?l:a>=E+p?p:a-E));a+=u)s>S(c/(g=u-d))&&x("overflow"),s*=g;E=I(w-i,e=v.length+1,0==i),S(w/e)>c-O&&x("overflow"),O+=S(w/e),w%=e,v.splice(w++,0,O)}return R(v)}function L(t){var e,n,r,o,i,s,a,f,d,g,m,v,b,w,E,j=[];for(v=(t=k(t)).length,e=_,n=0,i=h,s=0;s<v;++s)(m=t[s])<128&&j.push(O(m));for(r=o=j.length,o&&j.push(y);r<v;){for(a=c,s=0;s<v;++s)(m=t[s])>=e&&m<a&&(a=m);for(a-e>S((c-n)/(b=r+1))&&x("overflow"),n+=(a-e)*b,e=a,s=0;s<v;++s)if((m=t[s])<e&&++n>c&&x("overflow"),m==e){for(f=n,d=u;!(f<(g=d<=i?l:d>=i+p?p:d-i));d+=u)E=f-g,w=u-g,j.push(O(T(g+E%w,0))),f=S(E/w);j.push(O(T(f,0))),i=I(n,b,r==o),n=0,++r}++n,++e}return j.join("")}a={version:"1.4.1",ucs2:{decode:k,encode:R},decode:A,encode:L,toASCII:function(t){return j(t,(function(t){return m.test(t)?"xn--"+L(t):t}))},toUnicode:function(t){return j(t,(function(t){return g.test(t)?A(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return a}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(99)(t),n(19))},function(t,e,n){"use strict";var r=n(20),o=n(4),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||r.call(s,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(r,s,arguments);c&&u&&(c(e,"length").configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))}));return e};var p=function(){return a(r,i,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r="<anonymous>";function o(t){try{return t&&"function"==typeof t&&t.name||r}catch(t){return r}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(62);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=n(29);t.exports=function(){return r()&&!!Symbol.toStringTag}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2);function o(t){try{for(var e=t,n=[],r=0,o=0,s=" > ".length,a=void 0;e&&r++<5&&!("html"===(a=i(e))||r>1&&o+n.length*s+a.length>=80);)n.push(a),o+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function i(t){var e,n,o,i,s,a=t,c=[];if(!a||!a.tagName)return"";if(c.push(a.tagName.toLowerCase()),a.id&&c.push("#"+a.id),(e=a.className)&&Object(r.k)(e))for(n=e.split(/\s+/),s=0;s<n.length;s++)c.push("."+n[s]);var u=["type","name","title","alt"];for(s=0;s<u.length;s++)o=u[s],(i=a.getAttribute(o))&&c.push("["+o+'="'+i+'"]');return c.join("")}},,function(t,e,n){"use strict";var r=function(t){var e,n;function r(e,n,r){var o;return(o=t.call(this,e)||this).listener=n,o.context=r,o}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(51));t.exports=r},function(t,e,n){"use strict";var r=function(t){};t.exports=function(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(r(e),!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(s=new Error(e.replace(/%s/g,(function(){return String(o[a++])})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(29);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r=n(20);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var r=n(4),o=n(7),i=r("%TypeError%"),s=n(64),a=n(32),c=n(70),u=n(71),l=n(72),p=n(90),f=n(36),d=n(91),h=o("String.prototype.split"),_=Object("a"),y="a"!==_[0]||!(0 in _);t.exports=function(t){var e,n=p(this),r=y&&d(this)?h(this,""):n,o=l(r);if(!u(t))throw new i("Array.prototype.forEach callback must be a function");arguments.length>1&&(e=arguments[1]);for(var _=0;_<o;){var g=f(_);if(c(r,g)){var m=a(r,g);s(t,e,[m,_,r])}_+=1}}},function(t,e,n){"use strict";var r=n(4)("%TypeError%"),o=n(67),i=n(33),s=n(13);t.exports=function(t,e){if("Object"!==s(t))throw new r("Assertion failed: Type(O) is not Object");if(!i(e))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+o(e));return t[e]}},function(t,e,n){"use strict";t.exports=function(t){return"string"==typeof t||"symbol"==typeof t}},function(t,e,n){"use strict";var r,o,i=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},s((function(){throw 42}),null,r)}catch(t){t!==o&&(s=null)}else s=null;var a=/^\s*class\b/,c=function(t){try{var e=i.call(t);return a.test(e)}catch(t){return!1}},u=function(t){try{return!c(t)&&(i.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,p="function"==typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var h=document.all;l.call(h)===l.call(document.all)&&(d=function(t){if((f||!t)&&(void 0===t||"object"==typeof t))try{var e=l.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=s?function(t){if(d(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{s(t,null,r)}catch(t){if(t!==o)return!1}return!c(t)&&u(t)}:function(t){if(d(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(p)return u(t);if(c(t))return!1;var e=l.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&u(t)}},function(t,e,n){"use strict";t.exports=Number.isNaN||function(t){return t!=t}},function(t,e,n){"use strict";var r=n(4),o=r("%String%"),i=r("%TypeError%");t.exports=function(t){if("symbol"==typeof t)throw new i("Cannot convert a Symbol value to a string");return o(t)}},function(t,e,n){"use strict";var r=n(92),o=n(31);t.exports=function(){var t=Array.prototype.forEach;return r(t)?t:o}},function(t,e,n){"use strict";var r=n(12),o=n(7),i=o("Object.prototype.propertyIsEnumerable"),s=o("Array.prototype.push");t.exports=function(t){var e=r(t),n=[];for(var o in e)i(e,o)&&s(n,[o,e[o]]);return n}},function(t,e,n){"use strict";var r=n(38);t.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},function(t,e,n){"use strict";var r=n(12),o=n(36),i=n(7)("String.prototype.replace"),s=/^\s$/.test("᠎"),a=s?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,c=s?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=o(r(this));return i(i(t,a,""),c,"")}},function(t,e,n){"use strict";var r=n(40),o="᠎";t.exports=function(){return String.prototype.trim&&"​"==="​".trim()&&o.trim()===o&&"_᠎"==="_᠎".trim()&&"᠎_"==="᠎_".trim()?String.prototype.trim:r}},,function(t,e,n){var r={EventEmitter:n(50),EmitterSubscription:n(24)};t.exports=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},function(t,e,n){"use strict";var r=n(58),o=n(94),i=n(96),s=n(30),a=n(97),c=function(t){i(!1,t)},u=String.prototype.replace,l=String.prototype.split,p="||||",f=function(t){var e=t%100,n=e%10;return 11!==e&&1===n?0:2<=n&&n<=4&&!(e>=12&&e<=14)?1:2},d={pluralTypes:{arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:f,chinese:function(){return 0},croatian:f,french:function(t){return t>=2?1:0},german:function(t){return 1!==t?1:0},russian:f,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3},romanian:function(t){if(1===t)return 0;var e=t%100;return 0===t||e>=2&&e<=19?1:2}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"]}};function h(t,e){var n,i,s=(n=t.pluralTypeToLanguages,i={},r(o(n),(function(t){var e=t[0],n=t[1];r(n,(function(t){i[t]=e}))})),i);return s[e]||s[l.call(e,/-/,1)[0]]||s.en}function _(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var y,g=(y={},function(t,e){var n=y[e];return n&&!t.pluralTypes[n]&&(n=null,y[e]=n),n||(n=h(t,e))&&(y[e]=n),n}),m=/%\{(.*?)\}/g;function v(t,e,n,r,o,i){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var c=t,f=r||m,h=i||u,_="number"==typeof e?{smart_count:e}:e;if(null!=_.smart_count&&t){var y=o||d,v=l.call(t,p),b=function(t,e,n){return t.pluralTypes[e](n)}(y,g(y,n||"en"),_.smart_count);c=a(v[b]||v[0])}return c=h.call(c,f,(function(t,e){return s(_,e)&&null!=_[e]?_[e]:t}))}function b(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var n=e.allowMissing?v:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:n,this.warn=e.warn||c,this.replaceImplementation=e.replace||u,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if(e===p||n===p)throw new RangeError('"'+p+'" token is reserved for pluralization');return new RegExp(_(e)+"(.*?)"+_(n),"g")}(e.interpolation),this.pluralRules=e.pluralRules||d}b.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},b.prototype.extend=function(t,e){r(o(t||{}),(function(t){var n=t[0],r=t[1],o=e?e+"."+n:n;"object"==typeof r?this.extend(r,o):this.phrases[o]=r}),this)},b.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:r(o(t||{}),(function(t){var n=t[0],r=t[1],o=e?e+"."+n:n;"object"==typeof r?this.unset(r,o):delete this.phrases[o]}),this)},b.prototype.clear=function(){this.phrases={}},b.prototype.replace=function(t){this.clear(),this.extend(t)},b.prototype.t=function(t,e){var n,r,o=null==e?{}:e;if("string"==typeof this.phrases[t])n=this.phrases[t];else if("string"==typeof o._)n=o._;else if(this.onMissingKey){r=(0,this.onMissingKey)(t,o,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+t+'"'),r=t;return"string"==typeof n&&(r=v(n,o,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),r},b.prototype.has=function(t){return s(this.phrases,t)},b.transformPhrase=function(t,e,n){return v(t,e,n)},t.exports=b},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 511.626 511.626" style="enable-background:new 0 0 511.626 511.626;" xml:space="preserve"><g><path d="M477.371,127.44c-22.843-28.074-53.871-50.249-93.076-66.523c-39.204-16.272-82.035-24.41-128.478-24.41 c-34.643,0-67.762,4.805-99.357,14.417c-31.595,9.611-58.812,22.602-81.653,38.97c-22.845,16.37-41.018,35.832-54.534,58.385 C6.757,170.833,0,194.484,0,219.228c0,28.549,8.61,55.3,25.837,80.234c17.227,24.931,40.778,45.871,70.664,62.811 c-2.096,7.611-4.57,14.846-7.426,21.693c-2.855,6.852-5.424,12.474-7.708,16.851c-2.286,4.377-5.376,9.233-9.281,14.562 c-3.899,5.328-6.849,9.089-8.848,11.275c-1.997,2.19-5.28,5.812-9.851,10.849c-4.565,5.048-7.517,8.329-8.848,9.855 c-0.193,0.089-0.953,0.952-2.285,2.567c-1.331,1.615-1.999,2.423-1.999,2.423l-1.713,2.566c-0.953,1.431-1.381,2.334-1.287,2.707 c0.096,0.373-0.094,1.331-0.57,2.851c-0.477,1.526-0.428,2.669,0.142,3.433v0.284c0.765,3.429,2.43,6.187,4.998,8.277 c2.568,2.092,5.474,2.95,8.708,2.563c12.375-1.522,23.223-3.606,32.548-6.276c49.87-12.758,93.649-35.782,131.334-69.097 c14.272,1.522,28.072,2.286,41.396,2.286c46.442,0,89.271-8.138,128.479-24.417c39.208-16.272,70.233-38.448,93.072-66.517 c22.843-28.062,34.263-58.663,34.263-91.781C511.626,186.108,500.207,155.509,477.371,127.44z"></path></g></svg>'},function(t,e,n){t.exports=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="ARRAYBUFFER not supported by this environment",r="UINT8ARRAY not supported by this environment";function o(t,e,n,r){var o,i,s,a=e||[0],c=(n=n||0)>>>3,u=-1===r?3:0;for(o=0;o<t.length;o+=1)i=(s=o+c)>>>2,a.length<=i&&a.push(0),a[i]|=t[o]<<8*(u+r*(s%4));return{value:a,binLen:8*t.length+n}}function i(t,i,s){switch(i){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(t,e,n){return function(t,e,n,r){var o,i,s,a;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");var c=e||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(o=0;o<t.length;o+=2){if(i=parseInt(t.substr(o,2),16),isNaN(i))throw new Error("String of HEX type contains invalid characters");for(s=(a=(o>>>1)+u)>>>2;c.length<=s;)c.push(0);c[s]|=i<<8*(l+r*(a%4))}return{value:c,binLen:4*t.length+n}}(t,e,n,s)};case"TEXT":return function(t,e,n){return function(t,e,n,r,o){var i,s,a,c,u,l,p,f,d=0,h=n||[0],_=(r=r||0)>>>3;if("UTF8"===e)for(p=-1===o?3:0,a=0;a<t.length;a+=1)for(s=[],128>(i=t.charCodeAt(a))?s.push(i):2048>i?(s.push(192|i>>>6),s.push(128|63&i)):55296>i||57344<=i?s.push(224|i>>>12,128|i>>>6&63,128|63&i):(a+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(a)),s.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),c=0;c<s.length;c+=1){for(u=(l=d+_)>>>2;h.length<=u;)h.push(0);h[u]|=s[c]<<8*(p+o*(l%4)),d+=1}else for(p=-1===o?2:0,f="UTF16LE"===e&&1!==o||"UTF16LE"!==e&&1===o,a=0;a<t.length;a+=1){for(i=t.charCodeAt(a),!0===f&&(i=(c=255&i)<<8|i>>>8),u=(l=d+_)>>>2;h.length<=u;)h.push(0);h[u]|=i<<8*(p+o*(l%4)),d+=2}return{value:h,binLen:8*d+r}}(t,i,e,n,s)};case"B64":return function(t,n,r){return function(t,n,r,o){var i,s,a,c,u,l,p=0,f=n||[0],d=(r=r||0)>>>3,h=-1===o?3:0,_=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==_&&_<t.length)throw new Error("Invalid '=' found in base-64 string");for(i=0;i<t.length;i+=4){for(c=t.substr(i,4),a=0,s=0;s<c.length;s+=1)a|=e.indexOf(c.charAt(s))<<18-6*s;for(s=0;s<c.length-1;s+=1){for(u=(l=p+d)>>>2;f.length<=u;)f.push(0);f[u]|=(a>>>16-8*s&255)<<8*(h+o*(l%4)),p+=1}}return{value:f,binLen:8*p+r}}(t,n,r,s)};case"BYTES":return function(t,e,n){return function(t,e,n,r){var o,i,s,a,c=e||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(i=0;i<t.length;i+=1)o=t.charCodeAt(i),s=(a=i+u)>>>2,c.length<=s&&c.push(0),c[s]|=o<<8*(l+r*(a%4));return{value:c,binLen:8*t.length+n}}(t,e,n,s)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error(n)}return function(t,e,n){return r=e,i=n,a=s,o(new Uint8Array(t),r,i,a);var r,i,a};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error(r)}return function(t,e,n){return o(t,e,n,s)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function s(t,o,i,s){switch(t){case"HEX":return function(t){return function(t,e,n,r){var o,i,s="0123456789abcdef",a="",c=e/8,u=-1===n?3:0;for(o=0;o<c;o+=1)i=t[o>>>2]>>>8*(u+n*(o%4)),a+=s.charAt(i>>>4&15)+s.charAt(15&i);return r.outputUpper?a.toUpperCase():a}(t,o,i,s)};case"B64":return function(t){return function(t,n,r,o){var i,s,a,c,u,l="",p=n/8,f=-1===r?3:0;for(i=0;i<p;i+=3)for(c=i+1<p?t[i+1>>>2]:0,u=i+2<p?t[i+2>>>2]:0,a=(t[i>>>2]>>>8*(f+r*(i%4))&255)<<16|(c>>>8*(f+r*((i+1)%4))&255)<<8|u>>>8*(f+r*((i+2)%4))&255,s=0;s<4;s+=1)l+=8*i+6*s<=n?e.charAt(a>>>6*(3-s)&63):o.b64Pad;return l}(t,o,i,s)};case"BYTES":return function(t){return function(t,e,n){var r,o,i="",s=e/8,a=-1===n?3:0;for(r=0;r<s;r+=1)o=t[r>>>2]>>>8*(a+n*(r%4))&255,i+=String.fromCharCode(o);return i}(t,o,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error(n)}return function(t){return function(t,e,n){var r,o=e/8,i=new ArrayBuffer(o),s=new Uint8Array(i),a=-1===n?3:0;for(r=0;r<o;r+=1)s[r]=t[r>>>2]>>>8*(a+n*(r%4))&255;return i}(t,o,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error(r)}return function(t){return function(t,e,n){var r,o=e/8,i=-1===n?3:0,s=new Uint8Array(o);for(r=0;r<o;r+=1)s[r]=t[r>>>2]>>>8*(i+n*(r%4))&255;return s}(t,o,i)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function a(t){var e={outputUpper:!1,b64Pad:"=",outputLen:-1},n=t||{},r="Output length must be a multiple of 8";if(e.outputUpper=n.outputUpper||!1,n.b64Pad&&(e.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);e.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);e.outputLen=n.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function c(t,e){return t<<e|t>>>32-e}function u(t,e,n){return t^e^n}function l(t,e,n){return t&e^t&n^e&n}function p(t,e){var n=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function f(t,e,n,r,o){var i=(65535&t)+(65535&e)+(65535&n)+(65535&r)+(65535&o);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function d(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function h(t,e){var n,r,o,i,s,a,d,h,_=[];for(n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],d=0;d<80;d+=1)_[d]=d<16?t[d]:c(_[d-3]^_[d-8]^_[d-14]^_[d-16],1),a=d<20?f(c(n,5),(h=r)&o^~h&i,s,1518500249,_[d]):d<40?f(c(n,5),u(r,o,i),s,1859775393,_[d]):d<60?f(c(n,5),l(r,o,i),s,2400959708,_[d]):f(c(n,5),u(r,o,i),s,3395469782,_[d]),s=i,i=o,o=c(r,30),r=n,n=a;return e[0]=p(n,e[0]),e[1]=p(r,e[1]),e[2]=p(o,e[2]),e[3]=p(i,e[3]),e[4]=p(s,e[4]),e}function _(t,e,n,r){for(var o,i=15+(e+65>>>9<<4),s=e+n;t.length<=i;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[i]=4294967295&s,t[i-1]=s/4294967296|0,o=0;o<t.length;o+=16)r=h(t.slice(o,o+16),r);return r}return function(e){function n(t,n,r){var o=this;if("SHA-1"!==t)throw new Error("Chosen SHA variant is not supported");var s=r||{};return(o=e.call(this,t,n,r)||this).t=!0,o.i=o.o,o.u=-1,o.h=i(o.v,o.l,o.u),o.A=h,o.p=function(t){return t.slice()},o.U=d,o.T=_,o.R=[1732584193,4023233417,2562383102,271733878,3285377520],o.m=512,o.F=160,o.g=!1,s.hmacKey&&o.B(function(t,e,n,r){var o=t+" must include a value and format";if(!e){if(!r)throw new Error(o);return r}if(void 0===e.value||!e.format)throw new Error(o);return i(e.format,e.encoding||"UTF8",n)(e.value)}("hmacKey",s.hmacKey,o.u)),o}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,e),n}(function(){function t(t,e,n){var r=n||{};if(this.v=e,this.l=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.Y=t,this.C=[],this.I=0,this.H=!1,this.L=0,this.S=!1,this.N=[],this.X=[]}return t.prototype.update=function(t){var e,n=0,r=this.m>>>5,o=this.h(t,this.C,this.I),i=o.binLen,s=o.value,a=i>>>5;for(e=0;e<a;e+=r)n+this.m<=i&&(this.R=this.A(s.slice(e,e+r),this.R),n+=this.m);return this.L+=n,this.C=s.slice(n>>>5),this.I=i%this.m,this.H=!0,this},t.prototype.getHash=function(t,e){var n,r,o=this.F,i=a(e);if(this.g){if(-1===i.outputLen)throw new Error("Output length must be specified in options");o=i.outputLen}var c=s(t,o,this.u,i);if(this.S&&this.i)return c(this.i(i));for(r=this.T(this.C.slice(),this.I,this.L,this.p(this.R),o),n=1;n<this.numRounds;n+=1)this.g&&o%32!=0&&(r[r.length-1]&=16777215>>>24-o%32),r=this.T(r,o,0,this.U(this.Y),o);return c(r)},t.prototype.setHMACKey=function(t,e,n){if(!this.t)throw new Error("Variant does not support HMAC");if(this.H)throw new Error("Cannot set MAC key after calling update");var r=i(e,(n||{}).encoding||"UTF8",this.u);this.B(r(t))},t.prototype.B=function(t){var e,n=this.m>>>3,r=n/4-1;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.S)throw new Error("MAC key already set");for(n<t.binLen/8&&(t.value=this.T(t.value,t.binLen,0,this.U(this.Y),this.F));t.value.length<=r;)t.value.push(0);for(e=0;e<=r;e+=1)this.N[e]=909522486^t.value[e],this.X[e]=1549556828^t.value[e];this.R=this.A(this.N,this.R),this.L=this.m,this.S=!0},t.prototype.getHMAC=function(t,e){var n=a(e);return s(t,this.F,this.u,n)(this.o())},t.prototype.o=function(){var t;if(!this.S)throw new Error("Cannot call getHMAC without first setting MAC key");var e=this.T(this.C.slice(),this.I,this.L,this.p(this.R),this.F);return t=this.A(this.X,this.U(this.Y)),this.T(e,this.F,this.m,t,this.F)},t}())}()},,,function(t,e,n){"use strict";var r=n(24),o=n(52),i=n(25),s=n(53),a=function(){function t(){this._subscriber=new o,this._currentSubscription=null}var e=t.prototype;return e.addListener=function(t,e,n){return this._subscriber.addSubscription(t,new r(this._subscriber,e,n))},e.once=function(t,e,n){var r=this;return this.addListener(t,(function(){r.removeCurrentListener(),e.apply(n,arguments)}))},e.removeAllListeners=function(t){this._subscriber.removeAllSubscriptions(t)},e.removeCurrentListener=function(){this._currentSubscription||i(!1),this._subscriber.removeSubscription(this._currentSubscription)},e.listeners=function(t){var e=this._subscriber.getSubscriptionsForType(t);return e?e.filter(s.thatReturnsTrue).map((function(t){return t.listener})):[]},e.emit=function(t){var e=this._subscriber.getSubscriptionsForType(t);if(e){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=e[n[r]];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},e.__emitToSubscription=function(t,e){var n=Array.prototype.slice.call(arguments,2);t.listener.apply(t.context,n)},t}();t.exports=a},function(t,e,n){"use strict";var r=function(){function t(t){this.subscriber=t}return t.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},t}();t.exports=r},function(t,e,n){"use strict";var r=n(25),o=function(){function t(){this._subscriptionsForType={},this._currentSubscription=null}var e=t.prototype;return e.addSubscription=function(t,e){e.subscriber!==this&&r(!1),this._subscriptionsForType[t]||(this._subscriptionsForType[t]=[]);var n=this._subscriptionsForType[t].length;return this._subscriptionsForType[t].push(e),e.eventType=t,e.key=n,e},e.removeAllSubscriptions=function(t){void 0===t?this._subscriptionsForType={}:delete this._subscriptionsForType[t]},e.removeSubscription=function(t){var e=t.eventType,n=t.key,r=this._subscriptionsForType[e];r&&delete r[n]},e.getSubscriptionsForType=function(t){return this._subscriptionsForType[t]},t}();t.exports=o},function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function _(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(56),o=n(57);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],c=e.base?i[0]+e.base:i[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var p=a(l),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==p?(s[p].references++,s[p].updater(f)):s.push({identifier:l,updater:y(f,e),references:1}),r.push(l)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,p=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function d(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,_=0;function y(t,e){var n,r,o;if(e.singleton){var i=_++;n=h||(h=u(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=u(e),r=d.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);s[o].references--}for(var i=c(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=i}}}},function(t,e,n){"use strict";n.r(e);var r=n(14),o=n.n(r)()(!1);o.push([t.i,'body,html{height:100%;margin:0;padding:0}#surfly-splash{transition:height 1s,opacity .3s,top 1s;opacity:0;width:100%;height:100%;background-color:#e54747;height:686px;left:0;position:fixed;top:0;z-index:1234568;perspective-origin:794.5px 343px;-webkit-perspective-origin:794.5px 343px;-webkit-text-emphasis-color:#fff;-webkit-text-fill-color:#fff;-webkit-text-stroke-color:#fff;transform-origin:794.5px 343px;-webkit-transform-origin:794.5px 343px}#surfly-splash,#surfly-splash-msg{border-color:#fff;color:#fff;display:block;font-family:Lato,Arial,sans-serif;outline-color:#fff;-webkit-column-rule-color:#fff}#surfly-splash-msg{height:18px;margin-bottom:16px;margin-top:16px;text-align:center;perspective-origin:794.5px 9px;-webkit-perspective-origin:794.5px 9px;-webkit-text-emphasis-color:#fff;-webkit-text-fill-color:#fff;-webkit-text-stroke-color:#fff;transform-origin:794.5px 9px;-webkit-transform-origin:794.5px 9px}@media(max-width:767px){#surfly-splash-msg{height:auto}}#surfly-open{color:#fff}@media(max-width:767px){#surfly-open{margin-top:10px;display:inline-block}}@media(min-width:768px){#surfly-open{margin-left:30px}}#surfly-cancel{margin-left:30px;color:#fff}#surfly-blocker{transition:opacity .3s;background-color:#fff;display:block;left:0;-moz-opacity:.5;-khtml-opacity:.5;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=50);filter:alpha(opacity=50);opacity:.5;position:fixed;top:0;z-index:1234567;perspective-origin:794.5px 343px;-webkit-perspective-origin:794.5px 343px;transform-origin:794.5px 343px;-webkit-transform-origin:794.5px 343px}#surfly-blocker,.surfly-popup-iframe{width:100%;height:100%}.surfly-transparent-div{position:fixed;background:#000;width:100%;height:100%;opacity:.6;top:0;left:0;z-index:5}.surfly-popup-iframe-div{background-color:#fff;display:block;height:80%;left:0;position:fixed;top:0;z-index:123456;perspective-origin:794.5px 343px;transform-origin:794.5px 343px;width:80%;margin:auto;bottom:0;right:0}.surfly-popup-close{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0uNDY2LjQ3YS43NS43NSAwIDAxMS4wNiAwbDUuNDcgNS40NyA1LjQ3LTUuNDdhLjc1Ljc1IDAgMTExLjA2IDEuMDZMOC4wNTYgN2w1LjQ3IDUuNDdhLjc1Ljc1IDAgMTEtMS4wNiAxLjA2bC01LjQ3LTUuNDctNS40NyA1LjQ3YS43NS43NSAwIDAxLTEuMDYtMS4wNkw1LjkzNiA3IC40NjUgMS41M2EuNzUuNzUgMCAwMTAtMS4wNnoiIGZpbGw9IiNEOERBREEiLz48L3N2Zz4=");background-repeat:no-repeat;width:15px;height:15px;cursor:pointer;position:absolute;right:10px;top:10px;font-size:30px}.surfly-button{background-color:#c00;background-position:18px;color:#fff;cursor:pointer;font-family:Lato,Arial,sans-serif;height:20px;line-height:20px;outline-color:#e54747;text-align:center;font-size:14px;width:164px;-moz-column-rule-color:#e54747;column-rule-color:#e54747;padding:3px}.surfly-button svg{height:14px;width:14px;margin-right:5px}.surfly-button.surfly-button-visible{display:block}.surfly-button.surfly-button-hidden{display:none}.surfly-button.surfly-button-position-middleright{transform:rotate(270deg) translate(-72px,-72px)}.surfly-button.surfly-button-position-middleleft{transform:rotate(90deg) translate(72px,72px)}.surfly-modal{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center}.surfly-modal.fadein{animation-duration:.2s;animation-name:fadein}@keyframes fadein{0%{background-color:transparent}to{background-color:rgba(0,0,0,.4)}}.surfly-modal *{font-family:Lato,Arial,sans-serif;box-sizing:border-box}.surfly-modal .content{position:relative;width:100%;max-width:450px;background-color:#fff;border-radius:11px 11px 10px 10px;box-shadow:0 0 12px 2px rgba(0,0,0,.2)}.surfly-modal .content.easein{animation-duration:.4s;animation-name:easein}@keyframes easein{0%{top:25%;opacity:0}to{top:0;opacity:1}}.surfly-modal .title{border-radius:10px 10px 0 0;padding:.3em 20px;font-size:125%}.surfly-modal .body{width:100%;padding:30px 20px 20px;display:inline-block}.surfly-modal p{margin-top:0;text-align:center;line-height:1.4}.surfly-modal .pin{margin:.6em 0;text-align:center;font-weight:700;font-size:200%}.surfly-modal .buttons{text-align:center;width:100%}.surfly-modal button{min-width:200px;font-size:15px;margin:5px;padding:10px;border:0;border-radius:30px;transition:color .3s,background .3s;-webkit-transition:color .3s,background .3s}.surfly-modal button.cancel{background-color:grey;color:#fff}.surfly-modal button.cancel:hover{background-color:#555;color:#fff}.surfly-modal button .spin{display:inline-block;height:1em;width:1em;border-width:2px;border-radius:100%;border-style:solid;animation:rotation .6s linear infinite}@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}',""]),e.default=o},function(t,e,n){"use strict";var r=n(10),o=n(17),i=n(7),s=n(12),a=n(31),c=n(37),u=c(),l=n(93),p=i("Array.prototype.slice"),f=o.apply(u),d=function(t,e){return s(t),f(t,p(arguments,1))};r(d,{getPolyfill:c,implementation:a,shim:l}),t.exports=d},function(t,e,n){"use strict";var r=Array.prototype.slice,o=n(27),i=Object.keys,s=i?function(t){return i(t)}:n(60),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},function(t,e,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(27),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=s(t),a=e&&"[object String]"===i.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=u&&n;if(a&&t.length>0&&!o.call(t,0))for(var _=0;_<t.length;++_)f.push(String(_));if(r&&t.length>0)for(var y=0;y<t.length;++y)f.push(String(y));else for(var g in t)h&&"prototype"===g||!o.call(t,g)||f.push(String(g));if(c)for(var m=function(t){if("undefined"==typeof window||!d)return p(t);try{return p(t)}catch(t){return!1}}(t),v=0;v<l.length;++v)m&&"constructor"===l[v]||!o.call(t,l[v])||f.push(l[v]);return f}}t.exports=r},function(t,e,n){"use strict";var r=n(4)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString,s="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||i.call(e)!==s)throw new TypeError(r+e);for(var n,a=o.call(arguments,1),c=Math.max(0,e.length-a.length),u=[],l=0;l<c;l++)u.push("$"+l);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var r=e.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return e.apply(t,a.concat(o.call(arguments)))})),e.prototype){var p=function(){};p.prototype=e.prototype,n.prototype=new p,p.prototype=null}return n}},function(t,e,n){"use strict";var r=n(4)("%TypeError%");t.exports=function(t,e){if(null==t)throw new r(e||"Cannot call method on "+t);return t}},function(t,e,n){"use strict";var r=n(4),o=n(7),i=r("%TypeError%"),s=n(65),a=r("%Reflect.apply%",!0)||o("%Function.prototype.apply%");t.exports=function(t,e){var n=arguments.length>2?arguments[2]:[];if(!s(n))throw new i("Assertion failed: optional `argumentsList`, if provided, must be a List");return a(t,e,n)}},function(t,e,n){"use strict";t.exports=n(66)},function(t,e,n){"use strict";var r=n(4)("%Array%"),o=!r.isArray&&n(7)("Object.prototype.toString");t.exports=r.isArray||function(t){return"[object Array]"===o(t)}},function(t,e,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,l=a&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,_=Object.prototype.toString,y=Function.prototype.toString,g=String.prototype.match,m=String.prototype.slice,v=String.prototype.replace,b=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,O=Array.prototype.concat,x=Array.prototype.join,E=Array.prototype.slice,j=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,R=Object.getOwnPropertySymbols,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,A="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I||"symbol")?Symbol.toStringTag:null,L=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function C(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||S.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-j(-t):j(t);if(r!==t){var o=String(r),i=m.call(e,o.length+1);return v.call(o,n,"$&_")+"."+v.call(v.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(e,n,"$&_")}var N=n(68),U=N.custom,F=q(U)?U:null;function W(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function M(t){return v.call(String(t),/"/g,"&quot;")}function D(t){return!("[object Array]"!==H(t)||A&&"object"==typeof t&&A in t)}function B(t){return!("[object RegExp]"!==H(t)||A&&"object"==typeof t&&A in t)}function q(t){if(I)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,r,o){var a=n||{};if($(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if($(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!$(a,"customInspect")||a.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return G(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var b=String(e);return _?C(e,b):b}if("bigint"==typeof e){var S=String(e)+"n";return _?C(e,S):S}var j=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=j&&j>0&&"object"==typeof e)return D(e)?"[Array]":"[Object]";var R=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=x.call(Array(t.indent+1)," ")}return{base:n,prev:x.call(Array(e+1),n)}}(a,r);if(void 0===o)o=[];else if(z(o,e)>=0)return"[Circular]";function U(e,n,i){if(n&&(o=E.call(o)).push(n),i){var s={depth:a.depth};return $(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,r+1,o)}return t(e,a,r+1,o)}if("function"==typeof e&&!B(e)){var Y=function(t){if(t.name)return t.name;var e=g.call(y.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),J=Q(e,U);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(J.length>0?" { "+x.call(J,", ")+" }":"")}if(q(e)){var tt=I?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):T.call(e);return"object"!=typeof e||I?tt:X(tt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var et="<"+w.call(String(e.nodeName)),nt=e.attributes||[],rt=0;rt<nt.length;rt++)et+=" "+nt[rt].name+"="+W(M(nt[rt].value),"double",a);return et+=">",e.childNodes&&e.childNodes.length&&(et+="..."),et+="</"+w.call(String(e.nodeName))+">"}if(D(e)){if(0===e.length)return"[]";var ot=Q(e,U);return R&&!function(t){for(var e=0;e<t.length;e++)if(z(t[e],"\n")>=0)return!1;return!0}(ot)?"["+Z(ot,R)+"]":"[ "+x.call(ot,", ")+" ]"}if(function(t){return!("[object Error]"!==H(t)||A&&"object"==typeof t&&A in t)}(e)){var it=Q(e,U);return"cause"in Error.prototype||!("cause"in e)||L.call(e,"cause")?0===it.length?"["+String(e)+"]":"{ ["+String(e)+"] "+x.call(it,", ")+" }":"{ ["+String(e)+"] "+x.call(O.call("[cause]: "+U(e.cause),it),", ")+" }"}if("object"==typeof e&&c){if(F&&"function"==typeof e[F]&&N)return N(e,{depth:j-r});if("symbol"!==c&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var st=[];return s&&s.call(e,(function(t,n){st.push(U(n,e,!0)+" => "+U(t,e))})),V("Map",i.call(e),st,R)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var at=[];return l&&l.call(e,(function(t){at.push(U(t,e))})),V("Set",u.call(e),at,R)}if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return K("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return K("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(t){}return!1}(e))return K("WeakRef");if(function(t){return!("[object Number]"!==H(t)||A&&"object"==typeof t&&A in t)}(e))return X(U(Number(e)));if(function(t){if(!t||"object"!=typeof t||!k)return!1;try{return k.call(t),!0}catch(t){}return!1}(e))return X(U(k.call(e)));if(function(t){return!("[object Boolean]"!==H(t)||A&&"object"==typeof t&&A in t)}(e))return X(h.call(e));if(function(t){return!("[object String]"!==H(t)||A&&"object"==typeof t&&A in t)}(e))return X(U(String(e)));if(!function(t){return!("[object Date]"!==H(t)||A&&"object"==typeof t&&A in t)}(e)&&!B(e)){var ct=Q(e,U),ut=P?P(e)===Object.prototype:e instanceof Object||e.constructor===Object,lt=e instanceof Object?"":"null prototype",pt=!ut&&A&&Object(e)===e&&A in e?m.call(H(e),8,-1):lt?"Object":"",ft=(ut||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(pt||lt?"["+x.call(O.call([],pt||[],lt||[]),": ")+"] ":"");return 0===ct.length?ft+"{}":R?ft+"{"+Z(ct,R)+"}":ft+"{ "+x.call(ct,", ")+" }"}return String(e)};var Y=Object.prototype.hasOwnProperty||function(t){return t in this};function $(t,e){return Y.call(t,e)}function H(t){return _.call(t)}function z(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function G(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return G(m.call(t,0,e.maxStringLength),e)+r}return W(v.call(v.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,J),"single",e)}function J(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+b.call(e.toString(16))}function X(t){return"Object("+t+")"}function K(t){return t+" { ? }"}function V(t,e,n,r){return t+" ("+e+") {"+(r?Z(n,r):x.call(n,", "))+"}"}function Z(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+x.call(t,","+n)+"\n"+e.prev}function Q(t,e){var n=D(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=$(t,o)?e(t[o],t):""}var i,s="function"==typeof R?R(t):[];if(I){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var c in t)$(t,c)&&(n&&String(Number(c))===c&&c<t.length||I&&i["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if("function"==typeof R)for(var u=0;u<s.length;u++)L.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}},function(t,e){},function(t,e,n){"use strict";t.exports=function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0}},function(t,e,n){"use strict";var r=n(4)("%TypeError%"),o=n(33),i=n(13);t.exports=function(t,e){if("Object"!==i(t))throw new r("Assertion failed: `O` must be an Object");if(!o(e))throw new r("Assertion failed: `P` must be a Property Key");return e in t}},function(t,e,n){"use strict";t.exports=n(34)},function(t,e,n){"use strict";var r=n(4)("%TypeError%"),o=n(32),i=n(73),s=n(13);t.exports=function(t){if("Object"!==s(t))throw new r("Assertion failed: `obj` must be an Object");return i(o(t,"length"))}},function(t,e,n){"use strict";var r=n(74),o=n(75);t.exports=function(t){var e=o(t);return e<=0?0:e>r?r:e}},function(t,e,n){"use strict";var r=n(4),o=r("%Math%"),i=r("%Number%");t.exports=i.MAX_SAFE_INTEGER||o.pow(2,53)-1},function(t,e,n){"use strict";var r=n(76),o=n(77),i=n(78),s=n(35),a=n(88),c=n(89);t.exports=function(t){var e=i(t);if(s(e)||0===e)return 0;if(!a(e))return e;var n=o(r(e));return 0===n?0:c(e)*n}},function(t,e,n){"use strict";var r=n(4)("%Math.abs%");t.exports=function(t){return r(t)}},function(t,e,n){"use strict";var r=n(13),o=Math.floor;t.exports=function(t){return"BigInt"===r(t)?t:o(t)}},function(t,e,n){"use strict";var r=n(4),o=r("%TypeError%"),i=r("%Number%"),s=n(79),a=n(80),c=n(85);t.exports=function(t){var e=s(t)?t:a(t,i);if("symbol"==typeof e)throw new o("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof e?c(e):i(e)}},function(t,e,n){"use strict";t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},function(t,e,n){"use strict";var r=n(81);t.exports=function(t){return arguments.length>1?r(t,arguments[1]):r(t)}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=n(82),i=n(34),s=n(83),a=n(84),c=function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var n,r,s,a="string"===e?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(n=t[a[s]],i(n)&&(r=n.call(t),o(r)))return r;throw new TypeError("No default value")},u=function(t,e){var n=t[e];if(null!=n){if(!i(n))throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function");return n}};t.exports=function(t){if(o(t))return t;var e,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?e=u(t,Symbol.toPrimitive):a(t)&&(e=Symbol.prototype.valueOf)),void 0!==e){var i=e.call(t,n);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(s(t)||a(t))&&(n="string"),c(t,"default"===n?"number":n)}},function(t,e,n){"use strict";t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},function(t,e,n){"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(21)();t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e,n){"use strict";var r=Object.prototype.toString;if(n(28)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==r.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&i.test(o.call(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},function(t,e,n){"use strict";var r=n(4),o=r("%Number%"),i=r("%RegExp%"),s=r("%TypeError%"),a=r("%parseInt%"),c=n(7),u=n(86),l=c("String.prototype.slice"),p=u(/^0b[01]+$/i),f=u(/^0o[0-7]+$/i),d=u(/^[-+]0x[0-9a-f]+$/i),h=u(new i("["+["","​","￾"].join("")+"]","g")),_=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),y=new RegExp("(^["+_+"]+)|(["+_+"]+$)","g"),g=c("String.prototype.replace"),m=n(13);t.exports=function t(e){if("String"!==m(e))throw new s("Assertion failed: `argument` is not a String");if(p(e))return o(a(l(e,2),2));if(f(e))return o(a(l(e,2),8));if(h(e)||d(e))return NaN;var n=g(e,y,"");return n!==e?t(n):o(e)}},function(t,e,n){"use strict";var r=n(7),o=n(4),i=n(87),s=r("RegExp.prototype.exec"),a=o("%TypeError%");t.exports=function(t){if(!i(t))throw new a("`regex` must be a RegExp");return function(e){return null!==s(t,e)}}},function(t,e,n){"use strict";var r,o,i,s,a=n(7),c=n(21)();if(c){r=a("Object.prototype.hasOwnProperty"),o=a("RegExp.prototype.exec"),i={};var u=function(){throw i};s={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=u)}var l=a("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;t.exports=c?function(t){if(!t||"object"!=typeof t)return!1;var e=p(t,"lastIndex");if(!(e&&r(e,"value")))return!1;try{o(t,s)}catch(t){return t===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===l(t)}},function(t,e,n){"use strict";var r=n(35);t.exports=function(t){return("number"==typeof t||"bigint"==typeof t)&&!r(t)&&t!==1/0&&t!==-1/0}},function(t,e,n){"use strict";t.exports=function(t){return t>=0?1:-1}},function(t,e,n){"use strict";var r=n(4)("%Object%"),o=n(12);t.exports=function(t){return o(t),r(t)}},function(t,e,n){"use strict";var r=String.prototype.valueOf,o=Object.prototype.toString,i=n(21)();t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object String]"===o.call(t))}},function(t,e){t.exports=function(t){var e=!0,n=!0,r=!1;if("function"==typeof t){try{t.call("f",(function(t,n,r){"object"!=typeof r&&(e=!1)})),t.call([null],(function(){"use strict";n="string"==typeof this}),"x")}catch(t){r=!0}return!r&&e&&n}return!1}},function(t,e,n){"use strict";var r=n(10),o=n(37);t.exports=function(){var t=o();return r(Array.prototype,{forEach:t},{forEach:function(){return Array.prototype.forEach!==t}}),t}},function(t,e,n){"use strict";var r=n(10),o=n(17),i=n(38),s=n(39),a=n(95),c=o(s(),Object);r(c,{getPolyfill:s,implementation:i,shim:a}),t.exports=c},function(t,e,n){"use strict";var r=n(39),o=n(10);t.exports=function(){var t=r();return o(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";var r=n(17),o=n(10),i=n(12),s=n(40),a=n(41),c=n(98),u=r(a()),l=function(t){return i(t),u(t)};o(l,{getPolyfill:a,implementation:s,shim:c}),t.exports=l},function(t,e,n){"use strict";var r=n(10),o=n(41);t.exports=function(){var t=o();return r(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"FunctionToString",(function(){return a})),n.d(r,"InboundFilters",(function(){return C}));var o,i={};n.r(i),n.d(i,"GlobalHandlers",(function(){return te})),n.d(i,"TryCatch",(function(){return Qt})),n.d(i,"Breadcrumbs",(function(){return Xt})),n.d(i,"LinkedErrors",(function(){return re})),n.d(i,"UserAgent",(function(){return ie}));var s,a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){o=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return o.apply(n,t)}},t.id="FunctionToString",t}(),c=n(0),u=n(2),l=n(104);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(s||(s={}));var p=function(){function t(t){var e=this;this._state=s.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(s.RESOLVED,t)},this._reject=function(t){e._setResult(s.REJECTED,t)},this._setResult=function(t,n){e._state===s.PENDING&&(Object(u.m)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==s.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===s.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===s.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var o=e.length,i=[];e.forEach((function(e,s){t.resolve(e).then((function(t){i[s]=t,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void o(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void o(t)}else o(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var o,i;return n.then((function(t){i=!1,o=t,e&&e()}),(function(t){i=!0,o=t,e&&e()})).then((function(){i?r(o):t(o)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),f=n(5),d=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Object(c.e)(e._breadcrumbs),n._tags=Object(c.a)({},e._tags),n._extra=Object(c.a)({},e._extra),n._contexts=Object(c.a)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Object(c.e)(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=Object(c.a)(Object(c.a)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Object(c.a)(Object(c.a)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Object(c.a)(Object(c.a)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Object(c.a)(Object(c.a)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Object(c.a)(Object(c.a)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,o=this.getSpan();return(null===(t=o)||void 0===t?void 0:t.transaction)?null===(e=o)||void 0===e?void 0:e.transaction:(null===(r=null===(n=o)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?o.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Object(c.a)(Object(c.a)({},this._tags),e._tags),this._extra=Object(c.a)(Object(c.a)({},this._extra),e._extra),this._contexts=Object(c.a)(Object(c.a)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(u.h)(e)&&(this._tags=Object(c.a)(Object(c.a)({},this._tags),e.tags),this._extra=Object(c.a)(Object(c.a)({},this._extra),e.extra),this._contexts=Object(c.a)(Object(c.a)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=Object(c.a)({timestamp:Object(l.a)()},t);return this._breadcrumbs=void 0!==e&&e>=0?Object(c.e)(this._breadcrumbs,[n]).slice(-e):Object(c.e)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Object(c.a)(Object(c.a)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Object(c.a)(Object(c.a)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Object(c.a)(Object(c.a)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Object(c.a)(Object(c.a)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Object(c.a)({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=Object(c.a)({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Object(c.e)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Object(c.e)(h(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var o=this;return void 0===r&&(r=0),new p((function(i,s){var a=t[r];if(null===e||"function"!=typeof a)i(e);else{var l=a(Object(c.a)({},e),n);Object(u.m)(l)?l.then((function(e){return o._notifyEventProcessors(t,e,n,r+1).then(i)})).then(null,s):o._notifyEventProcessors(t,l,n,r+1).then(i).then(null,s)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function h(){var t=Object(f.e)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function _(t){h().push(t)}var y=Object(f.e)(),g="Sentry Logger ",m=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(f.c)((function(){y.console.log(g+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(f.c)((function(){y.console.warn(g+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(f.c)((function(){y.console.error(g+"[Error]: "+t.join(" "))}))},t}();y.__SENTRY__=y.__SENTRY__||{};var v,b=y.__SENTRY__.logger||(y.__SENTRY__.logger=new m),w=n(15);!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(v||(v={}));var S=n(6),O=function(){function t(t){this.errors=0,this.sid=Object(f.i)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=v.Ok,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:Object(f.i)()),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===v.Ok?this.update({status:v.Exited}):this.update()},t.prototype.toJSON=function(){return Object(S.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(S.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),x=3,E=function(){function t(t,e,n){void 0===e&&(e=new d),void 0===n&&(n=x),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=d.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(f.i)(),r=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,Object(c.a)(Object(c.a)({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=Object(f.i)(),o=n;if(!n){var i=void 0;try{throw new Error(t)}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureMessage",t,e,Object(c.a)(Object(c.a)({},o),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(f.i)();return this._invokeClient("captureEvent",t,Object(c.a)(Object(c.a)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,o=n.client;if(r&&o){var i=o.getOptions&&o.getOptions()||{},s=i.beforeBreadcrumb,a=void 0===s?null:s,u=i.maxBreadcrumbs,p=void 0===u?100:u;if(!(p<=0)){var d=Object(l.a)(),h=Object(c.a)({timestamp:d},t),_=a?Object(f.c)((function(){return a(h,e)})):h;null!==_&&r.addBreadcrumb(_,Math.min(p,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=k(this);try{t(this)}finally{k(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return b.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.startSession=function(t){this.endSession();var e=this.getStackTop(),n=e.scope,r=e.client,o=r&&r.getOptions()||{},i=o.release,s=o.environment,a=new O(Object(c.a)(Object(c.a)({release:i,environment:s},n&&{user:n.getUser()}),t));return n&&n.setSession(a),a},t.prototype.endSession=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&(r.close(),n&&n.captureSession&&n.captureSession(r),e.setSession())}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),i=o.scope,s=o.client;s&&s[t]&&(e=s)[t].apply(e,Object(c.e)(n,[i]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=j().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);b.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function j(){var t=Object(f.e)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function k(t){var e=j(),n=I(e);return A(e,t),n}function R(){var t=j();return T(t)&&!I(t).isOlderThan(x)||A(t,new E),Object(w.b)()?function(t){try{var e=(r=j().__SENTRY__)&&r.extensions&&r.extensions.domain&&r.extensions.domain.active;if(!e)return I(t);if(!T(e)||I(e).isOlderThan(x)){var n=I(t).getStackTop();A(e,new E(n.client,d.clone(n.scope)))}return I(e)}catch(e){return I(t)}var r}(t):I(t)}function T(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function I(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new E),t.__SENTRY__.hub}function A(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}var L=n(9),P=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],C=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){_((function(e){var n=R();if(!n)return e;var r=n.getIntegration(t);if(r){var o=n.getClient(),i=o?o.getOptions():{},s=r._mergeOptions(i);if(r._shouldDropEvent(e,s))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(b.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(f.d)(t)),!0):this._isIgnoredError(t,e)?(b.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(f.d)(t)),!0):this._isDeniedUrl(t,e)?(b.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(f.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(b.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(f.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Object(L.a)(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return Object(L.a)(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return Object(L.a)(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Object(c.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Object(c.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Object(c.e)(this._options.ignoreErrors||[],t.ignoreErrors||[],P),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,o=e.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(e){return b.error("Cannot extract message for event "+Object(f.d)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return b.error("Cannot extract url for event "+Object(f.d)(t)),null}},t.id="InboundFilters",t}();var N=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var U=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,N(r,n.prototype),r}return Object(c.b)(e,t),e}(Error),F=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,W="Invalid Dsn",M=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,o=e.pass,i=e.port,s=e.projectId;return e.protocol+"://"+e.user+(t&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+s},t.prototype._fromString=function(t){var e=F.exec(t);if(!e)throw new U(W);var n=Object(c.c)(e.slice(1),6),r=n[0],o=n[1],i=n[2],s=void 0===i?"":i,a=n[3],u=n[4],l=void 0===u?"":u,p="",f=n[5],d=f.split("/");if(d.length>1&&(p=d.slice(0,-1).join("/"),f=d.pop()),f){var h=f.match(/^\d+/);h&&(f=h[0])}this._fromComponents({host:a,pass:s,path:p,projectId:f,port:l,protocol:r,user:o})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new U(W+": "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new U(W+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new U(W+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new U(W+": Invalid port "+this.port)},t}(),D=[];function B(t){var e={};return function(t){var e=t.defaultIntegrations&&Object(c.e)(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),i=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})),n.forEach((function(t){-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=Object(c.e)(e);var s=r.map((function(t){return t.name})),a="Debug";return-1!==s.indexOf(a)&&r.push.apply(r,Object(c.e)(r.splice(s.indexOf(a),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===D.indexOf(t.name)&&(t.setupOnce(_,R),D.push(t.name),b.log("Integration installed: "+t.name))}(t)})),e}var q,Y=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new M(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,o=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){o=t}))),o},t.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id,s=Object(u.i)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(s.then((function(t){return o._captureEvent(t,n,r)})).then((function(t){i=t}))),i},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?this._sendSession(t):b.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=B(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return b.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,o,i=!1,s=!1,a=e.exception&&e.exception.values;if(a){s=!0;try{for(var u=Object(c.f)(a),l=u.next();!l.done;l=u.next()){var p=l.value.mechanism;if(p&&!1===p.handled){i=!0;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var f=e.user;if(!t.userAgent){var d=e.request?e.request.headers:{};for(var h in d)if("user-agent"===h.toLowerCase()){o=d[h];break}}t.update(Object(c.a)(Object(c.a)({},i&&{status:v.Crashed}),{user:f,userAgent:o,errors:t.errors+Number(s||i)}))},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new p((function(n){var r=0,o=setInterval((function(){0==e._processing?(clearInterval(o),n(!0)):(r+=1,t&&r>=t&&(clearInterval(o),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,o=this.getOptions().normalizeDepth,i=void 0===o?3:o,s=Object(c.a)(Object(c.a)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:Object(f.i)()),timestamp:t.timestamp||Object(l.a)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var a=e;n&&n.captureContext&&(a=d.clone(a).update(n.captureContext));var u=p.resolve(s);return a&&(u=a.applyToEvent(s,n)),u.then((function(t){return"number"==typeof i&&i>0?r._normalizeEvent(t,i):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return Object(c.a)(Object(c.a)({},t),t.data&&{data:Object(S.d)(t.data,e)})}))}),t.user&&{user:Object(S.d)(t.user,e)}),t.contexts&&{contexts:Object(S.d)(t.contexts,e)}),t.extra&&{extra:Object(S.d)(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,o=e.dist,i=e.maxValueLength,s=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=Object(L.d)(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Object(L.d)(a.value,s));var c=t.request;c&&c.url&&(c.url=Object(L.d)(c.url,s))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){b.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,s=o.sampleRate;if(!this._isEnabled())return p.reject(new U("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?p.reject(new U("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new U("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!i)return t;var n=i(t,e);if(void 0===n)throw new U("`beforeSend` method has to return `null` or a valid event.");return Object(u.m)(n)?n.then((function(t){return t}),(function(t){throw new U("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new U("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof U)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new U("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(q||(q={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(q||(q={}));var $,H=function(){function t(){}return t.prototype.sendEvent=function(t){return p.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:q.Skipped})},t.prototype.close=function(t){return p.resolve(!0)},t}(),z=function(){function t(t){this._options=t,this._options.dsn||b.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new U("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new U("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){b.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){b.error("Error while sending session: "+t)})):b.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new H},t}();function G(){if(!("fetch"in Object(f.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function J(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function X(){if(!G())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}($||($={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;default:return t.Log}}}($||($={}));var K="?",V=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Z=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Q=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,tt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,et=/\((\S*)(?::(\d+))(?::(\d+))\)/,nt=/Minified React error #\d+;/i;function rt(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:nt.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),s=[],a=0;a<i.length;a+=2){var c=null;(e=r.exec(i[a]))?c={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=o.exec(i[a]))&&(c={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),c&&(!c.func&&c.line&&(c.func=K),s.push(c))}if(!s.length)return null;return{message:it(t),name:t.name,stack:s}}(t),e)return ot(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,o=[],i=t.stack.split("\n"),s=0;s<i.length;++s){if(n=V.exec(i[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=et.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||K,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Q.exec(i[s]))r={url:n[2],func:n[1]||K,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Z.exec(i[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=tt.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||K,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=K),o.push(r)}if(!o.length)return null;return{message:it(t),name:t.name,stack:o}}(t),e)return ot(e,n)}catch(t){}return{message:it(t),name:t&&t.name,stack:[],failed:!0}}function ot(t,e){try{return Object(c.a)(Object(c.a)({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function it(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}var st=50;function at(t){var e=ut(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function ct(t){return{exception:{values:[at(t)]}}}function ut(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,st).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function lt(t,e,n){var r;if(void 0===n&&(n={}),Object(u.e)(t)&&t.error)return r=ct(rt(t=t.error));if(Object(u.a)(t)||Object(u.b)(t)){var o=t,i=o.name||(Object(u.a)(o)?"DOMError":"DOMException"),s=o.message?i+": "+o.message:i;return r=pt(s,e,n),Object(f.b)(r,s),"code"in o&&(r.tags=Object(c.a)(Object(c.a)({},r.tags),{"DOMException.code":""+o.code})),r}return Object(u.d)(t)?r=ct(rt(t)):Object(u.h)(t)||Object(u.f)(t)?(r=function(t,e,n){var r={exception:{values:[{type:Object(u.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(S.b)(t)}]},extra:{__serialized__:Object(S.e)(t)}};if(e){var o=ut(rt(e).stack);r.stacktrace={frames:o}}return r}(t,e,n.rejection),Object(f.a)(r,{synthetic:!0}),r):(r=pt(t,e,n),Object(f.b)(r,""+t,void 0),Object(f.a)(r,{synthetic:!0}),r)}function pt(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var o=ut(rt(e).stack);r.stacktrace={frames:o}}return r}function ft(t,e){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function dt(t,e){var n=t.tags||{},r=n.__sentry_samplingMethod,o=n.__sentry_sampleRate,i=Object(c.d)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);t.tags=i;var s="transaction"===t.type,a={body:JSON.stringify(t),type:t.type||"event",url:s?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(s){var u=JSON.stringify({event_id:t.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:r,rate:o}]})+"\n"+a.body;a.body=u}return a}var ht=function(){function t(t){this.dsn=t,this._dsnObject=new M(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var o in r.push("dsn="+e.toString()),t)if("dsn"!==o)if("user"===o){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(S.f)(t)},t}(),_t=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):p.reject(new U("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new p((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);p.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),yt=function(){function t(t){this.options=t,this._buffer=new _t(30),this._rateLimits={},this._api=new ht(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new U("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,o=t.resolve,i=t.reject,s=q.fromHttpCode(n.status);this._handleRateLimit(r)&&b.warn("Too many requests, backing off until: "+this._disabledUntil(e)),s!==q.Success?i(n):o({status:s})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,o,i=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var u=Object(c.f)(s.trim().split(",")),l=u.next();!l.done;l=u.next()){var p=l.value.split(":",2),d=parseInt(p[0],10),h=1e3*(isNaN(d)?60:d);try{for(var _=(r=void 0,Object(c.f)(p[1].split(";"))),y=_.next();!y.done;y=_.next()){var g=y.value;this._rateLimits[g||"all"]=new Date(i+h)}}catch(t){r={error:t}}finally{try{y&&!y.done&&(o=_.return)&&o.call(_)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return!0}return!!a&&(this._rateLimits.all=new Date(i+Object(f.g)(i,a)),!0)},t}(),gt=Object(f.e)(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(dt(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(ft(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:X()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new p((function(e,o){gt.fetch(t.url,r).then((function(r){var i={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:i,resolve:e,reject:o})})).catch(o)})))},e}(yt),vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(dt(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(ft(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new p((function(e,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:o,headers:i,resolve:e,reject:r})}},o.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,n.options.headers[i]);o.send(t.body)})))},e}(yt),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.b)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=lt(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return Object(f.a)(r,{handled:!0,type:"generic"}),r.level=$.Error,n&&n.event_id&&(r.event_id=n.event_id),p.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=$.Info),function(t,e,n,r){void 0===n&&(n=$.Info);var o=pt(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),p.resolve(o)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Object(c.a)(Object(c.a)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):G()?new mt(e):new vt(e)},e}(z);function wt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=R();if(r&&r[t])return r[t].apply(r,Object(c.e)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function St(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return wt("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function Ot(t,e){var n;try{throw new Error(t)}catch(t){n=t}var r="string"!=typeof e?{captureContext:e}:void 0;return wt("captureMessage",t,"string"==typeof e?e:void 0,Object(c.a)({originalException:t,syntheticException:n},r))}function xt(t){wt("configureScope",t)}function Et(t){wt("addBreadcrumb",t)}var jt=0;function kt(){return jt>0}function Rt(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(t){return Rt(t,e)}));return t.handleEvent?t.handleEvent.apply(this,o):t.apply(this,o)}catch(t){throw jt+=1,setTimeout((function(){jt-=1})),wt("withScope",(function(n){n.addEventProcessor((function(t){var n=Object(c.a)({},t);return e.mechanism&&(Object(f.b)(n,void 0,void 0),Object(f.a)(n,e.mechanism)),n.extra=Object(c.a)(Object(c.a)({},n.extra),{arguments:r}),n})),St(t)})),t}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}function Tt(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new ht(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else b.error("Missing dsn option in showReportDialog call");else b.error("Missing eventId option in showReportDialog call")}var It,At=n(18),Lt=Object(f.e)(),Pt={},Ct={};function Nt(t){if(!Ct[t])switch(Ct[t]=!0,t){case"console":!function(){if(!("console"in Lt))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in Lt.console&&Object(S.c)(Lt.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Ft("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,Lt.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Lt))return;Lt.document.addEventListener("click",$t("click",Ft.bind(null,"dom")),!1),Lt.document.addEventListener("keypress",Ht(Ft.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=Lt[t]&&Lt[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(S.c)(e,"addEventListener",(function(t){return function(e,n,r){return n&&n.handleEvent?("click"===e&&Object(S.c)(n,"handleEvent",(function(t){return function(e){return $t("click",Ft.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&Object(S.c)(n,"handleEvent",(function(t){return function(e){return Ht(Ft.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&$t("click",Ft.bind(null,"dom"),!0)(this),"keypress"===e&&Ht(Ft.bind(null,"dom"))(this)),t.call(this,e,n,r)}})),Object(S.c)(e,"removeEventListener",(function(t){return function(e,n,r){try{t.call(this,e,n.__sentry_wrapped__,r)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Lt))return;var t=[],e=[],n=XMLHttpRequest.prototype;Object(S.c)(n,"open",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this,s=r[1];i.__sentry_xhr__={method:Object(u.k)(r[0])?r[0].toUpperCase():r[0],url:r[1]},Object(u.k)(s)&&"POST"===i.__sentry_xhr__.method&&s.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var a=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}try{var n=t.indexOf(i);if(-1!==n){t.splice(n);var o=e.splice(n)[0];i.__sentry_xhr__&&void 0!==o[0]&&(i.__sentry_xhr__.body=o[0])}}catch(t){}Ft("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?Object(S.c)(i,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(i,e)}})):i.addEventListener("readystatechange",a),n.apply(i,r)}})),Object(S.c)(n,"send",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.push(this),e.push(r),Ft("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!function(){if(!G())return!1;var t=Object(f.e)();if(J(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=J(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){b.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;Object(S.c)(Lt,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:Wt(e),url:Mt(e)},startTimestamp:Date.now()};return Ft("fetch",Object(c.a)({},r)),t.apply(Lt,e).then((function(t){return Ft("fetch",Object(c.a)(Object(c.a)({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Ft("fetch",Object(c.a)(Object(c.a)({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(t=Object(f.e)(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState,n||!r)return;var t,e,n,r;var o=Lt.onpopstate;function i(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=It,i=String(r);It=i,Ft("history",{from:o,to:i})}return t.apply(this,e)}}Lt.onpopstate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Lt.location.href,r=It;if(It=n,Ft("history",{from:r,to:n}),o)return o.apply(this,t)},Object(S.c)(Lt.history,"pushState",i),Object(S.c)(Lt.history,"replaceState",i)}();break;case"error":zt=Lt.onerror,Lt.onerror=function(t,e,n,r,o){return Ft("error",{column:r,error:o,line:n,msg:t,url:e}),!!zt&&zt.apply(this,arguments)};break;case"unhandledrejection":Gt=Lt.onunhandledrejection,Lt.onunhandledrejection=function(t){return Ft("unhandledrejection",t),!Gt||Gt.apply(this,arguments)};break;default:b.warn("unknown instrumentation type:",t)}}function Ut(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(Pt[t.type]=Pt[t.type]||[],Pt[t.type].push(t.callback),Nt(t.type))}function Ft(t,e){var n,r;if(t&&Pt[t])try{for(var o=Object(c.f)(Pt[t]||[]),i=o.next();!i.done;i=o.next()){var s=i.value;try{s(e)}catch(e){b.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(At.a)(s)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Wt(t){return void 0===t&&(t=[]),"Request"in Lt&&Object(u.g)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Mt(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Lt&&Object(u.g)(t[0],Request)?t[0].url:String(t[0])}var Dt,Bt,qt=1e3,Yt=0;function $t(t,e,n){return void 0===n&&(n=!1),function(r){Dt=void 0,r&&Bt!==r&&(Bt=r,Yt&&clearTimeout(Yt),n?Yt=setTimeout((function(){e({event:r,name:t})})):e({event:r,name:t}))}}function Ht(t){return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(Dt||$t("input",t)(e),clearTimeout(Dt),Dt=setTimeout((function(){Dt=void 0}),qt))}}var zt=null;var Gt=null;var Jt=n(22),Xt=function(){function t(e){this.name=t.id,this._options=Object(c.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&R().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(f.d)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&Ut({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Object(c.e)(e))},type:"console"}),this._options.dom&&Ut({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Object(c.e)(e))},type:"dom"}),this._options.xhr&&Ut({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Object(c.e)(e))},type:"xhr"}),this._options.fetch&&Ut({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Object(c.e)(e))},type:"fetch"}),this._options.history&&Ut({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Object(c.e)(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:$.fromString(t.level),message:Object(L.b)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(L.b)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}R().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(Jt.a)(t.event.target):Object(Jt.a)(t.event)}catch(t){e="<unknown>"}0!==e.length&&R().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,o=e.status_code,i=e.body;R().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:o},type:"http"},{xhr:t.xhr,input:i})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?R().addBreadcrumb({category:"fetch",data:t.fetchData,level:$.Error,type:"http"},{data:t.error,input:t.args}):R().addBreadcrumb({category:"fetch",data:Object(c.a)(Object(c.a)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(f.e)(),n=t.from,r=t.to,o=Object(f.h)(e.location.href),i=Object(f.h)(n),s=Object(f.h)(r);i.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),R().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),Kt="5.30.0",Vt=function(t){function e(e){return void 0===e&&(e={}),t.call(this,bt,e)||this}return Object(c.b)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Object(f.e)().document&&(this._isEnabled()?Tt(Object(c.a)(Object(c.a)({},t),{dsn:t.dsn||this.getDsn()})):b.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",e.sdk=Object(c.a)(Object(c.a)({},e.sdk),{name:"sentry.javascript.browser",packages:Object(c.e)(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:Kt}]),version:Kt}),t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Xt);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(Y),Zt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Qt=function(){function t(e){this.name=t.id,this._options=Object(c.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=Object(f.e)();(this._options.setTimeout&&Object(S.c)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(S.c)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(S.c)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Object(S.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Zt).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=Rt(r,{mechanism:{data:{function:Object(At.a)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,Rt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(At.a)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(f.e)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(S.c)(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Rt(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(At.a)(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,Rt(r,{mechanism:{data:{function:"addEventListener",handler:Object(At.a)(r),target:t},handled:!0,type:"instrument"}}),o)}})),Object(S.c)(n,"removeEventListener",(function(t){return function(e,n,r){var o,i=n;try{var s=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;s&&t.call(this,e,s,r)}catch(t){}return t.call(this,e,i,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((function(t){t in r&&"function"==typeof r[t]&&Object(S.c)(r,t,(function(e){var n={mechanism:{data:{function:t,handler:Object(At.a)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Object(At.a)(e.__sentry_original__)),Rt(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),te=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(c.a)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(b.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(b.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Ut({callback:function(n){var r=n.error,o=R(),i=o.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(i&&!kt()&&!s){var a=o.getClient(),c=Object(u.i)(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(lt(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(f.a)(c,{handled:!1,type:"onerror"}),o.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Ut({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var o=R(),i=o.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!i||kt()||s)return!0;var a=o.getClient(),c=Object(u.i)(r)?e._eventFromRejectionWithPrimitive(r):lt(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});c.level=$.Error,Object(f.a)(c,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var o,i=Object(u.e)(t)?t.message:t;if(Object(u.k)(i)){var s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(o=s[1],i=s[2])}var a={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(a,e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,s=Object(u.k)(e)&&e.length>0?e:Object(f.f)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:s,function:"?",in_app:!0,lineno:i}),t},t.id="GlobalHandlers",t}(),ee="cause",ne=5,re=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||ee,this._limit=e.limit||ne}return t.prototype.setupOnce=function(){_((function(e,n){var r=R().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Object(u.g)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Object(c.e)(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Object(u.g)(t[e],Error)||n.length+1>=this._limit)return n;var r=at(rt(t[e]));return this._walkErrorTree(t[e],e,Object(c.e)([r],n))},t.id="LinkedErrors",t}(),oe=Object(f.e)(),ie=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){_((function(e){var n,r,o;if(R().getIntegration(t)){if(!oe.navigator&&!oe.location&&!oe.document)return e;var i=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=oe.location)||void 0===r?void 0:r.href),s=(oe.document||{}).referrer,a=(oe.navigator||{}).userAgent,u=Object(c.a)(Object(c.a)(Object(c.a)({},null===(o=e.request)||void 0===o?void 0:o.headers),s&&{Referer:s}),a&&{"User-Agent":a}),l=Object(c.a)(Object(c.a)({},i&&{url:i}),{headers:u});return Object(c.a)(Object(c.a)({},e),{request:l})}return e}))},t.id="UserAgent",t}(),se=[new r.InboundFilters,new r.FunctionToString,new Qt,new Xt,new te,new re,new ie];var ae={},ce=Object(f.e)();ce.Sentry&&ce.Sentry.Integrations&&(ae=ce.Sentry.Integrations);var ue=Object(c.a)(Object(c.a)(Object(c.a)({},ae),r),i);function le(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var pe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function fe(t){var e=pe.exec(t);return e?e.slice(1):[]}function de(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=!1,o=t.length-1;o>=-1&&!r;o--){var i=o>=0?t[o]:"/";i&&(n=i+"/"+n,r="/"===i.charAt(0))}return(r?"/":"")+(n=le(n.split("/").filter((function(t){return!!t})),!r).join("/"))||"."}function he(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}var _e=function(){function t(e){var n=this;void 0===e&&(e={}),this.name=t.id,this._iteratee=function(t){if(!t.filename)return t;var e,r,o=/^[A-Z]:\\/.test(t.filename),i=/^\//.test(t.filename);if(o||i){var s=o?t.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):t.filename,a=n._root?function(t,e){t=de(t).substr(1),e=de(e).substr(1);for(var n=he(t.split("/")),r=he(e.split("/")),o=Math.min(n.length,r.length),i=o,s=0;s<o;s++)if(n[s]!==r[s]){i=s;break}var a=[];for(s=i;s<n.length;s++)a.push("..");return(a=a.concat(r.slice(i))).join("/")}(n._root,s):(r=fe(s)[2],e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r);t.filename="app:///"+a}return t},e.root&&(this._root=e.root),e.iteratee&&(this._iteratee=e.iteratee)}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n().getIntegration(t);return r?r.process(e):e}))},t.prototype.process=function(t){return t.exception&&Array.isArray(t.exception.values)?this._processExceptionsEvent(t):t.stacktrace?this._processStacktraceEvent(t):t},t.prototype._processExceptionsEvent=function(t){var e=this;try{return Object(c.a)(Object(c.a)({},t),{exception:Object(c.a)(Object(c.a)({},t.exception),{values:t.exception.values.map((function(t){return Object(c.a)(Object(c.a)({},t),{stacktrace:e._processStacktrace(t.stacktrace)})}))})})}catch(e){return t}},t.prototype._processStacktraceEvent=function(t){try{return Object(c.a)(Object(c.a)({},t),{stacktrace:this._processStacktrace(t.stacktrace)})}catch(e){return t}},t.prototype._processStacktrace=function(t){var e=this;return Object(c.a)(Object(c.a)({},t),{frames:t&&t.frames&&t.frames.map((function(t){return e._iteratee(t)}))})},t.id="RewriteFrames",t}();let ye;ye=self;var ge=ye;async function me(t,e={}){const n=new Headers;n.append("Accept","application/json"),e.body&&n.append("Content-Type","application/json"),e.headers=n;const r=await fetch(t,e),o=await r.text(),i=o?JSON.parse(o):null;if(r.ok)return i;throw new Error(null==i?void 0:i.detail)}let ve=me;async function be(){return ve.apply(this,arguments)}var we=n(3);function Se(){return document.cookie.split(/;\s*/).map((function(t){const e=t.trim(),n=e.indexOf("=");let r,o="";return n>0?(r=e.slice(0,n),o=e.slice(n+1)):r=e,[r,o]}))}let Oe=Se;function xe(){return Oe.apply(this,arguments)}function Ee(t,e){const n=[];return t.forEach((t=>{const r=t[0],o=t[1];e&&e.length>0?e.forEach((t=>{t.name===r&&n.push({name:r,value:o,path:t.path||"/",domain:"."===t.domain[0]?t.domain:null})})):n.push({name:r,value:o,path:"/"})})),n}let je=Ee;function ke(){return je.apply(this,arguments)}function Re(){const t=[window.location.hostname],e=/^www\.(.*)/.exec(window.location.hostname);e&&t.push(e[1]);xe().forEach((function(e){t.forEach((function(t){document.cookie=e[0]+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=."+t}))}))}function Te(){xe().forEach((function(t){document.cookie=t[0]+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}))}function Ie(t){try{const e=sessionStorage.getItem(t);return JSON.parse(e)}catch(t){return null}}function Ae(t,e){try{return sessionStorage.setItem(t,JSON.stringify(e))}catch(t){return null}}function Le(t){try{return sessionStorage.removeItem(t)}catch(t){return null}}function Pe(t){try{const e=localStorage.getItem(t);return JSON.parse(e)}catch(t){return null}}function Ce(t,e){try{return localStorage.setItem(t,JSON.stringify(e))}catch(t){return null}}function Ne(t){return new Blob([t],{type:"text/plain"}).size}function Ue(){const t="surfly_storage_test",e="surfly";try{if(sessionStorage.setItem(t,e),localStorage.setItem(t,e),sessionStorage.getItem(t)===e&&localStorage.getItem(t)===e)return sessionStorage.removeItem(t),localStorage.removeItem(t),!0}catch(t){}return!1}var Fe=n(45),We=n.n(Fe);let Me,De=!1;function Be(t){return De&&Me?Me.t(t):t}n(55);(function(){const t=ge.navigator.userAgent.toLowerCase(),e=ge.navigator.appName;"Microsoft Internet Explorer"===e||"Netscape"===e&&t.indexOf("trident")})(),Boolean(/Android/g.test(ge.navigator.userAgent)),Boolean(ge.navigator.userAgent.match(/Chrome/));const qe=Boolean(ge.navigator.userAgent.match(/Safari/))&&"Apple Computer, Inc."===ge.navigator.vendor,Ye=Boolean(ge.navigator.userAgent.match(/iPad|iPhone|iPod/));/Safari\//g.test(ge.navigator.userAgent)&&/Chrom/g.test(ge.navigator.userAgent);const $e=ge.navigator.maxTouchPoints&&ge.navigator.maxTouchPoints>2&&/MacIntel/.test(ge.navigator.platform);Ye&&15===function(){const t=/CPU( iPad| iPhone| iPod)? OS (\d*)_(\d*)/g.exec(navigator.userAgent);return{minor:Ye?parseInt(t.pop()):NaN,major:Ye?parseInt(t.pop()):NaN}}().major||($e||qe)&&ge.navigator.userAgent.includes("Version/15."),Boolean(ge.navigator.mediaDevices&&ge.navigator.mediaDevices.getUserMedia&&("function"==typeof RTCPeerConnection||"object"==typeof RTCPeerConnection)),ge.navigator.userAgent.indexOf("Firefox"),ge.navigator.userAgent.indexOf("Edg"),ge.navigator.userAgent.indexOf("Opera")>-1||ge.navigator.userAgent.indexOf("OPR");var He=n(46),ze=n.n(He);function Ge(){return ge.mainWindow&&ge.mainWindow.surflyApiFrame?ge.mainWindow.surflyApiFrame:null}function Je(t){t||(t="surfly-invisible"),ge.mainWindow&&ge.mainWindow.surflyApiFrame&&(ge.mainWindow.surflyApiFrame.className=t)}function Xe(t){let e=document.querySelector("style#surfly-branding");if(!e)return e=document.createElement("style"),e.id="surfly-branding",e.appendChild(document.createTextNode(`\n        .surfly-button {\n            background-color: ${t.branding_primary_color};\n            color:            ${t.branding_primary_text_color};\n            fill:             ${t.branding_primary_text_color};\n        }\n\n        .surfly-modal button, .surfly-modal .title {\n            background-color: ${t.branding_primary_color};\n            color:            ${t.branding_primary_text_color};\n        }\n\n        .surfly-modal button:hover {\n            background-color: ${t.branding_secondary_color};\n            color:            ${t.branding_secondary_text_color};\n        }\n\n        .surfly-modal button.cancel .spin {\n            border-color: #555;\n            border-top-color: ${t.branding_primary_color};\n        }\n\n        .surfly-modal button.accept .spin {\n            border-color: ${t.branding_secondary_color};\n            border-top-color: ${t.branding_primary_color};\n        }\n    `)),window.document.head.appendChild(e),e}function Ke(t,e){const n=document.querySelector(".surfly-modal"),r=!n;Xe(t);const o=window.document.createElement("div");o.classList.add("surfly-modal"),r&&o.classList.add("fadein");const i=window.document.createElement("div");if(i.classList.add("content"),r&&i.classList.add("easein"),o.appendChild(i),e.title){const t=window.document.createElement("div");t.classList.add("title"),t.appendChild(window.document.createTextNode(e.title())),i.appendChild(t)}const s=window.document.createElement("div");if(s.classList.add("body"),i.appendChild(s),e.body){const t=window.document.createElement("p");t.innerHTML=e.body(),s.appendChild(t)}const a=window.document.createElement("div");let c;return a.classList.add("buttons"),s.appendChild(a),e.cancel?(c=window.document.createElement("button"),c.classList.add("cancel"),c.appendChild(window.document.createTextNode(e.cancel())),a.appendChild(c)):(c=document.createElement("span"),c.className="cancel surfly-popup-close",s.append(c)),e.accept&&(c=window.document.createElement("button"),c.classList.add("accept"),c.appendChild(window.document.createTextNode(e.accept())),a.appendChild(c)),n?n.parentNode.replaceChild(o,n):window.document.body.appendChild(o),o}let Ve=null;function Ze(t){if(t)return t.parentNode.removeChild(t),!1}function Qe(t){if(!document.querySelector(".surfly-popup-iframe")){const e=document.createElement("iframe");e.className="surfly-popup-iframe",e.frameborder=0,e.src=t;const n=document.createElement("div");n.className="surfly-transparent-div",document.body.appendChild(n);const r=document.createElement("div");r.className="surfly-popup-iframe-div",r.appendChild(e);const o=document.createElement("div");o.className="surfly-popup-close",o.onclick=function(){Ze(document.querySelector(".surfly-transparent-div")),Ze(document.querySelector(".surfly-popup-iframe-div")),ge.mainWindow.location.reload()},n.onclick=function(){Ze(document.querySelector(".surfly-transparent-div")),Ze(document.querySelector(".surfly-popup-iframe-div")),ge.mainWindow.location.reload()},r.appendChild(o),document.body.appendChild(r)}Je("surfly-popup")}let tn=Qe;function en(t,e){const n=ge.open(void 0,"_blank");n?t(n):e(new Error("Could not open a new window"))}function nn(t){return new Promise(((e,n)=>{let r;t._api.settings.session_start_confirmation||(r=ge.open(void 0,"_blank")),r?e(r):(Ot("Popup window blocked","info"),t?t.show().then((()=>{en(e,n)})).catch((t=>{n(t)})).finally((()=>{t.hide()})):en(e,n))}))}let rn=nn;function on(){return rn.apply(this,arguments)}function sn(t){this.name="ModalDismissed",this.message=t,this.stack=(new Error).stack}sn.prototype=new Error;class an{constructor(t,e){this._api=t,this._node=null,this._click_listeners=[],this._ignore_clickout=!1,this._localize={cancel:()=>Be("Cancel"),title:()=>Be("Start session")}}show(){return this._node=this._node||Ke(this._api.settings,this._localize),new Promise(((t,e)=>{const n=Ge(),r=this._node.querySelector(".content"),o=this._node.querySelector("button.cancel")||this._node.querySelector(".surfly-popup-close"),i=this._node.querySelector("button.accept");n.className="surfly-popup",this._listen_click(r,(t=>t.stopPropagation())),this._ignore_clickout||this._listen_click(this._node,(t=>{t.stopPropagation(),o&&this.spin(o),e(new sn("User clicked out of modal"))})),o&&this._listen_click(o,(t=>{t.stopPropagation(),this.spin(o),e(new sn("Cancel button pressed"))})),i&&this._listen_click(i,(e=>{e.stopPropagation(),this.spin(i),t()}))}))}hide(){if(this._node){this._node.parentNode&&this._node.parentNode.removeChild(this._node),this._node=null;Ge().className="surfly-invisible",this._remove_listeners()}}release(){this._node=null}spin(t){t.style.cssText=`width: ${t.clientWidth}px; height: ${t.clientHeight}px;`,t.innerHTML="",t.appendChild(function(){const t=document.createElement("div");return t.classList.add("spin"),t}())}_listen_click(t,e){this._click_listeners.push([t,e]),t.addEventListener("click",e)}_remove_listeners(){for(;this._click_listeners.length;){const[t,e]=this._click_listeners.pop();t.removeEventListener("click",e)}}}class cn extends an{constructor(t){super(t,null),this._localize={body:()=>t._escapeHTML(t.settings.confirmation_modal_body)||"<p>"+Be("You’ve requested assistance and a secure co-browsing session will be prepared to facilitate this request.")+"</p><p>"+Be("The agent that will assist you will not be able to see any open tabs in your browser or sensitive information such as passwords.")+"</p><p>"+Be("Do you want to proceed to connect with the agent?")+"</p>",accept:()=>Be("Connect"),cancel:null,title:null}}show(){return this._node=this._node||Ke(this._api.settings,this._localize),super.show()}}class un extends an{constructor(t){super(t,null),this._ignore_clickout=!0,this._localize={body:()=>Be("Your support pin is:")+'<p class="pin"></p>'+Be("Please wait until a support agent joins your session"),cancel:()=>Be("End session")},this.pin="…"}show(){return this._node=this._node||Ke(this._api.settings,this._localize),this._node.querySelector(".pin").innerHTML=this.pin,super.show()}}class ln extends an{constructor(t){super(t,null),this._ignore_clickout=!0,this._localize={body:()=>Be("Cobrowsing session is opened in a separate tab.")+" "+Be("Please do not close this window while it is active."),cancel:()=>Be("End session")}}}function pn(t,e){t.clear(),Object.keys(e).forEach((function(n){t.setItem(n,e[n])}))}const fn={localStorage:function(t){Ue()?pn(window.mainWindow.localStorage,t.value):console.error("webstorage is not available")},sessionStorage:function(t){Ue()?pn(window.mainWindow.sessionStorage,t.value):console.error("webstorage is not available")},scroll:function(t,e){let n=e.body;const r=t.value;n&&n&&(n.scrollLeft=r.left,n.scrollTop=r.top,n=null)},input:function t(e,n){const r=yn(e.identifier,n);r?(r.value!==e.value&&(r.value=e.value),r.value=e.value,r.checked=e.checked,r.disabled=e.disabled,r.selected=e.selected):Date.now()-window.mainWindow.performance.timing.domContentLoadedEventEnd<15e3&&setTimeout((function(){t(e,n)}),250)},contentEditable:function t(e,n){const r=yn(e.identifier,n);r?r.innerHTML=e.value:Date.now()-window.mainWindow.performance.timing.domContentLoadedEventEnd<15e3&&setTimeout((function(){t(e,n)}),250)},iframe:function t(e,n){const r=yn(e.identifier,n);r?e.current_states.forEach((t=>{dn(t,r.contentDocument||r.contentWindow.document)})):Date.now()-window.mainWindow.performance.timing.domContentLoadedEventEnd<15e3&&setTimeout((function(){t(e,n)}),250)}};function dn(t,e){if(e||(e=window.mainWindow.document),fn.hasOwnProperty(t.type))try{fn[t.type](t,e)}catch(e){console.warn("Data chunk was not restored:",t,e)}else console.error("Cannot restore data",t)}function hn(t){return{type:"iframe",identifier:gn(t),current_states:_n(t.contentDocument||t.contentWindow.document)}}function _n(t){return[].concat(function(t){return Array.from(t.querySelectorAll("input, select, textarea")).filter((t=>{const{name:e}=t;return!mn.includes(e)||(console.info("The element excluded from state transfer: ",t),!1)})).reduce(((t,e)=>{const n=gn(e);return n?t.push({type:"input",value:e.value,checked:e.checked,disabled:e.disabled,selected:e.selected,identifier:n}):console.log("Couldn't unambiguously transfer input: ",e),t}),[])}(t),function(t){const e=[],n=t.querySelectorAll("[contentEditable]");for(let t=n.length;t--;){const r=n[t];if("true"!==r.contentEditable){console.log("ContentEditable not enabled, skip",r);continue}const o=gn(r);o?e.push({type:"contentEditable",value:r.innerHTML,identifier:o}):console.log("Couldn't unambiguously transfer input:",r)}return e}(t),function(t){const e=[],n=window.mainWindow.document.body;if(n){const t=n.scrollLeft,r=n.scrollTop;e.push({type:"scroll",value:{top:r,left:t}})}return e}())}function yn(t,e){return e.evaluate(t,e,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function gn(t){return t&&t.id?'//*[@id="'+t.id+'"]':function(t){const e=[];for(;t&&1===t.nodeType;t=t.parentNode){let n=0;for(let e=t.previousSibling;e;e=e.previousSibling)e.nodeType!==Node.DOCUMENT_TYPE_NODE&&e.nodeName===t.nodeName&&++n;const r=t.nodeName.toLowerCase(),o=n?"["+(n+1)+"]":"";e.splice(0,0,r+o)}return e.length?"/"+e.join("/"):null}(t)}const mn=["_csrf"];function vn(t){const e=[];try{const n=Sn(window.mainWindow.localStorage);Object.keys(n).length>0&&e.push({type:"localStorage",value:n}),t&&window.mainWindow.localStorage.clear()}catch(t){}try{const n=Sn(window.mainWindow.sessionStorage);Object.keys(n).length>0&&e.push({type:"sessionStorage",value:n}),t&&window.mainWindow.sessionStorage.clear()}catch(t){}return e}let bn=vn;function wn(){return bn.apply(this,arguments)}function Sn(t){try{const e=Object.keys(t),n={};return e.forEach((function(e){0!==e.indexOf("surfly_")&&(n[e]=t[e])})),n}catch(t){return null}}let On=!1,xn=!1;function En(t){const e=ge.mainWindow.location;t=t.replace(/^(.*?)(#surflystart)?$/,"$1");const n=Object(we.c)(e.href),r=Object(we.c)(t),o=n==r&&r!==t;e.href=t,o&&e.reload()}const jn={transfer_state:function(t){ge.mainWindow.__surfly&&t.params.srcOrigin===ge.mainWindow.location.origin&&t.params.state.forEach((t=>dn(t)))},restore_cookies:function(t){if(!ge.mainWindow.__surfly){console.log("Restore cookies requested",t);const e=Object(we.g)(ge.mainWindow.location.host);t.params.srcOrigin===ge.mainWindow.location.origin||t.params.srcOrigin.substr(-e.length-1)==="."+e?(this.settings.cookie_transfer_enabled&&(this._restoreCookies(t.params.cookies),t.params.storage.forEach((t=>dn(t)))),On=!0,this.settings.cookie_transfer_proxying&&!xn||this._sendApiMessage("widget_event",{event_type:"cookie_transfer_done"})):console.log("Cookie restoring failed: calling origin is different:",t.params.srcOrigin)}},end_session:function(t){ge.mainWindow.__surfly||this.end(t.params.redirect)}},kn={download:function(t){this._emit("file_download",{url:t.params.url,filename:t.params.filename})},tabframe_ready:function(){this._started=!0,this._startTimeout&&(clearTimeout(this._startTimeout),this._startTimeout=null),this._openTs&&xt((t=>{t.setTags({cf_load_time:(new Date-this._openTs)/1e3})})),this.settings.verbose_console&&console.log(`Session ${this._sessionId} started`),this._isLeader&&this._emitter.listeners("session_pre_end").length>0&&this._sendApiMessage("widget_event",{event_type:"pre_end_subscribed"}),this._emit("session_started",{})},error:function(t){this._emit("error",{reason:t.params.reason})},host_rights_requested:function(t){this._emit("host_rights_requested",{clientIndex:t.params.clientIndex})},control:function(t){this._emit("control",{to:t.params.to,gained:t.params.gain,myIndex:t.params.my_index})},host_changed:function(t){this._emit("host_changed",{to:t.params.to,gained:t.params.gain,myIndex:t.params.my_index})},tab_control_requested:function(t){this._emit("tab_control_requested",{clientIndex:t.params.clientIndex})},tab_control:function(t){this._emit("tab_control",{tabIndex:t.params.tabIndex,leaderIndex:t.params.leaderIndex,controlIndex:t.params.controlIndex})},about_to_end:function(t){const{cookie_transfer_enabled:e,cookie_transfer_proxying:n,cookie_transfer_scopes:r,enable_cookie_backtransfer:o}=this.settings;if(e)if(ge.mainWindow.__surfly){let t=[];const e=wn(!1);n||(this._sendApiMessage("widget_event",{event_type:"wait_for_cookie_transfer"}),t=ke(xe(),r)),this._sendApiMessage("widget_message",{srcOrigin:ge.mainWindow.location.origin,targetOrigin:"*",target:"widget",msg:"restore_cookies",cookies:t,storage:e})}else n&&o&&(this._sendApiMessage("widget_event",{event_type:"wait_for_cookie_transfer"}),this._cookieTransferFullRev().then((()=>{xn=!0,On?this._sendApiMessage("widget_event",{event_type:"cookie_transfer_done"}):setTimeout((()=>{On||console.error("Webstorage contents was not received, probably inner widget is not available"),this._sendApiMessage("widget_event",{event_type:"cookie_transfer_done"})}),1e3)})))},session_ended:function(t){if(Et({category:"JS API",message:"session_ended postMsg",data:{msg:JSON.stringify(t)},level:$.Info}),this._isLeader?Ot("Leader ended","info"):Ot("Follower ended","info"),this._ended=!0,ge.mainWindow.__surfly)return this.settings.cookie_transfer_scopes.forEach((t=>{const e=";path="+(t.path||"/");let n="";t.domain&&(n=";domain="+t.domain),document.cookie=t.name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"+e+n})),Re(),Te(),void wn(!0);Le("surfly_restore_session");let e=null;t.params.redirect&&Object(we.b)(t.params.redirect)&&(e=t.params.redirect);let n=null;t.params.final_location&&Object(we.b)(t.params.final_location)&&(n=t.params.final_location),this._emit("session_ended",{final_location:n}),this._halt(),this.settings.end_of_session_popup_url&&this._answered?function(){Ye&&ge.mainWindow.document.body.classList.remove("surfly-hide-ios"),tn.apply(this,arguments)}(this.settings.end_of_session_popup_url):this._isLeader?e&&"leader_ended"===t.params.reason?En(e):this.settings.leader_redirect_url?En(this.settings.leader_redirect_url):this.settings.end_redirect_enabled?n?En(n):this.settings.cookie_transfer_enabled&&ge.mainWindow.location.reload():(this._api._sessionStartModal&&this._api._sessionStartModal.hide(),this._api._pinModal&&this._api._pinModal.hide(),this._api._thirdPartyCookiesModal&&this._api._thirdPartyCookiesModal.hide()):e&&"follower_ended"===t.params.reason?En(e):this.settings.follower_redirect_url?En(this.settings.follower_redirect_url):this.settings.end_redirect_enabled&&t.params.final_location&&Object(we.b)(t.params.final_location)&&En(t.params.final_location)},session_ended_soft:function(t){Et({category:"JS API",message:"session_ended_soft postMsg",data:{msg:JSON.stringify(t)},level:$.Info}),this._emit("session_ended_soft",{}),this._ended_soft=!0,Le("surfly_restore_session")},viewer_joined:function(t){this._emit("viewer_joined",{count:t.params.count,userData:t.params.userdata,clientIndex:t.params.origin})},participant_joined:function(t){ge.mainWindow.__surfly||this._showWindow(),0!==t.params.origin&&(this._answered=!0),this._emit("participant_joined",{userData:t.params.userdata,clientIndex:t.params.origin})},viewer_left:function(t){this._emit("viewer_left",{count:t.params.count,userData:t.params.userdata,clientIndex:t.params.origin})},participant_left:function(t){this._emit("participant_left",{userData:t.params.userdata,clientIndex:t.params.origin})},page_ready:function(){this._isLeader||this._loaded||(this._loaded=!0,this._emit("session_loaded"),this._openTs&&xt((t=>{t.setTags({load_time:(new Date-this._openTs)/1e3})})),Ot("Follower loaded","info"))},session_pre_end:function(t){this._emit("session_pre_end",{final_location:t.params.final_location})},session_paused:function(){this._paused=!0,this._emit("session_paused")},tab_paused:function(t){this._emit("tab_paused",{leaderIndex:t.params.leaderIndex,tabIndex:t.params.tabIndex})},session_resumed:function(){this._paused=!1,this._emit("session_resumed")},tab_resumed:function(t){this._emit("tab_resumed",{leaderIndex:t.params.leaderIndex,tabIndex:t.params.tabIndex})}},Rn={relocated:function(t){this._emit("relocated",{url:t.params.url}),this._loaded||(this._loaded=!0,this._emit("session_loaded"),this._openTs&&xt((t=>{t.setTags({load_time:(new Date-this._openTs)/1e3})})),Ot("Leader loaded","info"))},relocate_start:function(t){this._emit("relocate_start",{url:t.params.url})},user_activity:function(){this._emit("user_activity")},widget_ready:function(t){ge.mainWindow.__surfly||(this._otherSideReady=!0,this._transferState(),this._messageBuffer.forEach((t=>{this._sendApiMessage("widget_message",t)})))}},Tn={widget_message:function(t){"*"!==t.params.targetOrigin&&t.params.targetOrigin!==ge.mainWindow.location.origin||("user"===t.params.target?this._emit("message",{origin:t.params.srcOrigin,data:t.params.msg}):"widget"===t.params.target&&(jn.hasOwnProperty(t.params.msg)?jn[t.params.msg].call(this,t):console.log("Got unknown widget message",t)))},cobro_event:function(t){kn.hasOwnProperty(t.params.event_type)&&kn[t.params.event_type].call(this,t)},widget_event:function(t){Rn.hasOwnProperty(t.params.event_type)&&Rn[t.params.event_type].call(this,t)}};function In(t,e,n){if(!n){const t=Pe("surfly_3rdcookies");if(null!==t)return Promise.resolve(t)}return new Promise(((n,r)=>{let o=t+"/3rdpartycookietest/";e&&(o+="?show_loader=1");const i=ge.document.createElement("iframe");i.src=o,i.style.display="none";const s=function(e){e.origin===t&&e.data.hasOwnProperty("cookies_enabled")&&(Ce("surfly_3rdcookies",e.data.cookies_enabled),e.data.cookies_enabled||console.error("3rd-party cookies disabled"),window.removeEventListener("message",s),i.parentNode.removeChild(i),n(e.data.cookies_enabled))};window.addEventListener("message",s),setTimeout((function(){window.document.body.appendChild(i)}),0)}))}function An(t,e,n){return new Promise(((r,o)=>{const i=o=>{o.source===t&&(t.opener.removeEventListener("message",i),In(e,n,!0).then((t=>{r(t)})))};t.opener.addEventListener("message",i);let s=e+"/3rdpartycookietest/";n&&(s+="?show_loader=1"),t.location=s}))}let Ln=An;function Pn(){return Ln.apply(this,arguments)}const Cn=["file_download","session_created","session_loaded","session_queued","session_started","viewer_joined","participant_joined","viewer_left","participant_left","session_pre_end","session_ended","session_ended_soft","session_paused","session_resumed","tab_paused","tab_resumed","message","user_activity","relocated","error","control","tab_control","host_changed"],Nn=["file_download","session_created","session_loaded","session_queued","session_started","viewer_joined","participant_joined","viewer_left","participant_left","session_pre_end","session_ended","session_ended_soft","session_paused","session_resumed","tab_paused","tab_resumed","relocated","error","control","tab_control","host_changed"],Un=["agent_status","session_restored"];Un.concat(Cn);var Fn=n(43);class Wn extends Fn.EventEmitter{__emitToSubscription(t,e,...n){try{t.listener.apply(t.context,n)}catch(t){console.error(`Exception in ${e} event handler`,t)}}}const Mn=2e4;class Dn{constructor(t,e,n,r){if(this._answered=!1,this._api=t,this._start_initiated=!1,this._create_initiated=!1,this._cobroServerName=null,this._cookieRestoreUrls=[],this._cookies_forwarded=!1,this.queued=!1,this._restore_initiated=!1,this._started=!1,this._loaded=!1,this._created=!1,this._paused=!1,this._ended=!1,this._ended_soft=!1,this._isLeader=null,this._sessionSettings=e,this.leaderLink=null,this.followerLink=null,this.pin=null,this.node=null,this.window=null,this._pipelineFailed=!1,this._pipeline=Promise.resolve("init"),this._state_transferred=!1,this._sessionId=r||null,this._formattedId=null,this._otherSideReady=!1,this._messageBuffer=[],this._startTimeout=null,this._preferred_server_id="",this._openTs=null,this._tryCookieTrick=Ye||qe||$e,this._emitter=new Wn,r||n){this._restore_initiated=!0,this._created=!0,this._create_initiated=!0;const t=r||this._extractToken(n);"m"===t[0]?this.leaderLink=n||ge.mainWindow.SURFLY_COBRO_ORIGIN+"/"+t:this.followerLink=n,this._schedule(this._restoreSession.bind(this,t))}ge.mainWindow.addEventListener("message",(t=>{t.origin===ge.mainWindow.SURFLY_COBRO_ORIGIN&&(!ge.mainWindow.__surfly&&t.source&&t.source===this.window||ge.mainWindow.__surfly&&t.source===ge.mainWindow.__surfly_CF._surfly_parent)&&Tn.hasOwnProperty(t.data.type)&&Tn[t.data.type].call(this,t.data)}))}_extractToken(t){return Object(we.f)(t).pathname.split("/")[1]}get settings(){return new Proxy({...this._api.settings,...this._sessionSettings},{set:(t,e,n)=>(this._sessionSettings[e]=n,!0)})}get started(){return this._started}get ended(){return this._ended}get ended_soft(){return this._ended_soft}get paused(){return this._paused}get created(){return this._created}get stateTransferEndpoint(){return`${ge.mainWindow.SURFLY_COBRO_ORIGIN}/v2/sessions/?api_key=${this.settings.widget_key}`}get sessionContEndpoint(){return`/surfly_cookie_transfer/create/?api_key=${this.settings.widget_key}`}on(t,e){return this._emitter.addListener(t,e.bind(this,this)),this._isLeader&&this.started&&"session_pre_end"===t&&this._sendApiMessage("widget_event",{event_type:"pre_end_subscribed"}),this}_emit(t,e){Nn.indexOf(t)>=0&&Et({category:"JS API",message:"session event",data:{eventName:t,eventData:JSON.stringify(e)},level:$.Info}),"error"===t&&console.error("Surfly JS API",e),this._emitter.emit(t,e)}_schedule(t){this._pipelineFailed?console.error("Surfly cannot proceed due to an error"):this._pipeline=this._pipeline.then(t).catch((t=>{throw this._pipelineFailed||(this._pipelineFailed=!0,St(new Error(t)),console.error(t)),t}))}_sessionContinuationEnabled(){return!(!this.settings.cookie_transfer_enabled||!this.settings.cookie_transfer_proxying)&&(Et({category:"JS API",message:"SC started",level:$.Info}),!(!this.settings.cookie_transfer_urls||0===this.settings.cookie_transfer_urls.length||!this.settings.cookie_transfer_scopes||0===this.settings.cookie_transfer_scopes.length)||(console.error("You must specify cookie_transfer_urls and cookie_transfer_scopes in order to use full session continuation"),!1))}async _getPreferredServerId(){return be(ge.mainWindow.SURFLY_COBRO_ORIGIN+"/v2/servers/_closest/")}async _cookieTransferFullFwd(){const t=this.settings.cookie_transfer_urls.filter((t=>{const e=Object(we.f)(t);return(Object(we.a)(e.hostname,ge.mainWindow.location.hostname).match(/\./g)||[]).length>=2}));if(0===t.length)throw new Error("No suitable continuation points found");const e=t[0];await be(e+"init/",{credentials:"include"});const n=t.map((t=>be(t+"store/",{method:"POST",body:JSON.stringify(this.settings.cookie_transfer_scopes),credentials:"include"})));await Promise.all(n);try{this._preferred_server_id=await this._getPreferredServerId()}catch(t){console.warn("Failed to get preferred server id")}Et({category:"JS API",message:"SC finished",level:$.Info})}_cookieTransferFullRev(){Et({category:"JS API",message:"Reverse SC started",level:$.Info});const t=[];return this._cookieRestoreUrls.forEach((e=>{const n=new Promise(((t,n)=>{const r=ge.mainWindow.document.createElement("iframe");r.style.cssText="display:none";const o=function(e){e.source===r.contentWindow&&e.data.ready&&(ge.mainWindow.removeEventListener("message",o),t())};ge.mainWindow.addEventListener("message",o),ge.mainWindow.document.body.appendChild(r),r.src=e}));t.push(n)})),Promise.all(t)}_transferState(){if(!ge.mainWindow.__surfly&&!this._state_transferred){this._state_transferred=!0,Ae("surfly_state_transferred_"+this._sessionId,!0);const t=function(){const t=_n(window.mainWindow.document),e=function(t){const e=[],n=window.mainWindow.document.querySelectorAll("iframe");for(const t in n)if(n[t])try{const r=n[t];(r.contentDocument||r.contentWindow.document).body.innerHTML,e.push(r)}catch(t){continue}return e}();for(const n in e)if(e[n]){const r=hn(e[n]);t.push(r)}return t}(),{origin:e}=ge.mainWindow.location;this._sendApiMessage("widget_message",{target:"widget",srcOrigin:e,targetOrigin:e,msg:"transfer_state",state:t})}}_restoreCookies(t){this.settings.cookie_transfer_enabled&&!this.settings.cookie_transfer_proxying?(!function(t,e=!0,n=!0){t&&t.length>0&&(n&&Re(),e&&Te(),t.forEach((function(t){const e=";path="+(t.path||"/");let n="";t.expires&&(n=";expires="+t.expires);let r="";"domain"in t?null!==t.domain&&(r=";domain="+t.domain):r=";domain=."+Object(we.g)(window.location.hostname),document.cookie=t.name+"="+t.value+n+e+r})))}(t),this.settings.verbose_console&&console.log("Cookies set")):this.settings.verbose_console&&console.log("Soft session continuation is disabled")}_newSessionData(t={}){const e=Object.assign({url:ge.mainWindow.location.href,...this._api._userSettings,...this._sessionSettings});e.cookies=[],e.webstorage=[];const{cookie_transfer_enabled:n,cookie_transfer_proxying:r,cookie_transfer_scopes:o}=this.settings;n&&(r||(e.cookies=ke(xe(),o),Re()),e.webstorage=wn());const i=Ne(JSON.stringify(e.webstorage)),s=Ne(JSON.stringify(e.cookies));return xt((t=>{t.setTags({storage_size:i,cookies_size:s})})),i>5e6&&(e.webstorage=[],console.error("Webstorage content is too large"),Ot("Webstorage too large","warning")),s>5e6&&(e.cookies=[],console.error("Cookies are too large, consider using cookie_transfer_scopes"),Ot("Cookies too large","warning")),e.meta=JSON.stringify(t),e.preferred_server_id=this._preferred_server_id,e}_logCreateError(t){this._emit("error",{reason:"create_failed",details:t})}async _makeCreateRequest(t,e){return be(t,{method:"POST",body:JSON.stringify(e)})}async _createSession(t,e,n){let r;if(t&&!e)try{return r=await this._makeCreateRequest(this.sessionContEndpoint,n),this._cookies_forwarded=!0,r}catch(t){const e=`Session continuation failed: ${t.message}. Trying to start a session without transferring cookies.`;this._logCreateError(e)}try{r=await this._makeCreateRequest(this.stateTransferEndpoint,n)}catch(t){return this._logCreateError(t.message),Promise.reject(t.message)}return r}async _createCall(t){const e=this._sessionContinuationEnabled();this._state_transferred=!1;let n=!1;if(e)try{await this._cookieTransferFullFwd()}catch(t){console.error("Cookie transfer error:",t),n=!0}const r=this._newSessionData(t),o=await this._createSession(e,n,r);this.leaderLink=o.leader_link,this.followerLink=o.follower_link,this.pin=o.pin,this._cobroServerName=o.cobro_server_name,this._sessionId=o.id,this._formattedId=o.formatted_id,this.queued=!0,this._state_transferred=Ie("surfly_state_transferred_"+this._sessionId)||!1,this._created=!0,this._cookieRestoreUrls=[...new Set(o.init_restore_urls)],Ae("surfly_init_restore_urls_"+this._sessionId,this._cookieRestoreUrls);window.document.querySelector("#surfly-splash")&&(window.document.getElementById("surfly-qpin").textContent=" - "+Be("Your Queue PIN is")+" "+this.pin),this._emit("session_created",{}),this._emit("session_queued",{}),this._emitter.listeners("session_queued").length>0&&Ot("Expects session_queued event","info"),xt((t=>{t.setTag("sessionId",this._sessionId),t.setExtra("settings",this.settings)}))}_restoreSession(t){let e=ge.mainWindow.SURFLY_COBRO_ORIGIN+`/v2/sessions/${t}`;return"widget_key"in this.settings&&(e+=`/?api_key=${this.settings.widget_key}`),be(e).then((e=>{this.settings.verbose_console&&console.log(`Session restored ${t}`),this._ended=Boolean(e.duration),this.followerLink=e.follower_link,this._cobroServerName=e.cobro_server_name,this._sessionId=e.session_id,this._formattedId=e.formatted_id,this.queued=e.queued,this._cookieRestoreUrls=Ie("surfly_init_restore_urls_"+this._sessionId)||[],this.leaderLink=this.leaderLink||Ie("surfly_leader_link_"+this._sessionId),this._state_transferred=Ie("surfly_state_transferred_"+this._sessionId)||!1,this._sessionSettings=Object.assign(e.options,{widget_key:this.settings.widget_key}),this.pin=e.pin,ge.mainWindow.__surfly&&(this._started=!0,this._otherSideReady=!0,this._emitter.listeners("session_pre_end").length>0&&this._sendApiMessage("widget_event",{event_type:"pre_end_subscribed"}),this._sendApiMessage("widget_event",{event_type:"widget_ready"})),this._emit("session_created",{})}))}create(){return ge.mainWindow.__surfly?(console.error("SurflySession.create() is not available under Surfly session"),this):this._create_initiated||this.created||this._restore_initiated?(console.log("Session already initialized, SurflySession.create() does nothing"),this):this._api._widgetKeyProvided("create a new session (without a link or session ID)")?(this._create_initiated=!0,this._schedule(this._createCall.bind(this)),this):this}_openIframe(t){if(this._nodeSelector)this.node=ge.mainWindow.document.querySelector(this._nodeSelector),this.node&&this.node.contentWindow||console.error("Could not find an iframe by CSS selector:",this._nodeSelector),this.window=this.node.contentWindow;else{this.node&&this.node.parentNode.removeChild(this.node);const t=ge.mainWindow.document.createElement("iframe");t.id="surfly-iframe",t.name="surfly-iframe",t.classList.add("surfly-ignore"),t.style.cssText="display:block; background-color:rgb(255, 255, 255);\n                height:100%; width:100%;\n                left:99999999px;\n                position:fixed;\n                top:0px;\n                z-index:2147483547;\n                visibility: initial;\n                border:0",ge.mainWindow.document.body.appendChild(t),this.node=t,this.window=t.contentWindow}this.node.allow=`microphone ${ge.mainWindow.SURFLY_COBRO_ORIGIN}; camera ${ge.mainWindow.SURFLY_COBRO_ORIGIN}; display-capture ${ge.mainWindow.SURFLY_COBRO_ORIGIN}; autoplay;`,t()}_openWindow(t){this.settings.session_start_confirmation?this._handleThirdPartyCookiesTrickResult(this._api._features["3rdcookies"],t):this._api._features["3rdcookies"]?this._openIframe(t):(this.node=null,this.window&&this.window.close(),on(this._api._sessionStartModal).then((t=>(this.window=t,Pn(t,ge.mainWindow.SURFLY_COBRO_ORIGIN,!this.settings.hide_session_ui&&this.settings.start_with_loading_screen)))).then((e=>{this._api._features["3rdcookies"]=e,this._handleThirdPartyCookiesTrickResult(e,t)})))}_handleThirdPartyCookiesTrickResult(t,e){t?(Ot("3rd-party cookies trick succeeded","info"),this.window&&(this.window.close(),this.window=null),this._openIframe(e)):this.settings.embedded_sessions_only||this._nodeSelector?(this.window&&(this.window.close(),this.window=null),console.error("3rd-party cookies are disabled, cannot start a session in an iframe.")):(console.log("3rd-party cookies are disabled, opening session in a separate tab"),Ot("3rd-party cookies trick failed","info"),this._api._thirdPartyCookiesModal.show().catch((()=>this.end())),e())}_showWindow(){this.node&&(null===Ve&&(Ve=ge.mainWindow.document.documentElement.style.overflow),ge.mainWindow.document.documentElement.style.overflow="hidden",this._nodeSelector||(this.node.style.left="0px",Ye&&ge.mainWindow.document.body.classList.add("surfly-hide-ios")))}_openLeader(t){if(!this.leaderLink)throw new Error("Cannot open a leader window without a leader link");let e="";const n=Object(we.f)(this.leaderLink);(t=t||Object(we.e)(n.search))&&(e=Object(we.d)(t));let r=n.protocol+"//"+n.host+n.pathname+e;this.settings.cookie_transfer_enabled&&this.settings.cookie_transfer_proxying&&(this._cookies_forwarded?r="/surfly_cookie_transfer/start/"+this._extractToken(this.leaderLink)+e:(console.error("There was a problem with cookie transfer, session continuation skipped"),Ot("Cookie transfer failure","warning"))),this.window.location=r,this.settings.hide_until_agent_joins||this._showWindow(),this.window.focus(),this._isLeader=!0,Et({category:"JS API",message:"Leader started",data:t,level:$.Info}),this._setStartTimeout()}_openFollower(t){if(!this.followerLink)throw new Error("Cannot open a follower window without a follower link");let e="";const n=Object(we.f)(this.followerLink);(t=t||Object(we.e)(n.search))&&(e=Object(we.d)(t)),this._showWindow(),this.window.location=n.protocol+"//"+n.host+n.pathname+e,this.window.focus(),this._isLeader=!1,Ot("Follower started","info"),this._setStartTimeout()}_setStartTimeout(){this._openTs=new Date,this._startTimeout&&ge.clearTimeout(this._startTimeout),this._startTimeout=ge.setTimeout((()=>{Ot("Session did not start within 20000 ms","warning"),console.warn("Session did not start within 20000 ms"),this._startTimeout=null}),Mn)}_attachListeners(){ge.mainWindow.__surfly||this._nodeSelector||this.settings.session_autorestore_enabled&&this._isLeader&&ge.mainWindow.addEventListener("unload",(()=>{this.ended||this.ended_soft||(this.settings.verbose_console&&console.log(`Saving session ${this._sessionId} for restoring later`),Ae("surfly_restore_session",this._sessionId),Ae("surfly_leader_link_"+this._sessionId,this.leaderLink))}))}_checkUserDataType(t){if(t){if("function"==typeof t)return!1;const e=JSON.parse(JSON.stringify(t));if(Array.isArray(e)||e.constructor!==Object)return console.warn("Wrong user data format. Object is expected"),Ot("Wrong user data format","warning"),!1}return!0}_canStart(t,e){return ge.mainWindow.__surfly?(this._emit("error",{reason:"start_failed",details:"Not available under Surfly session"}),!1):this._start_initiated||this.started?(this._emit("error",{reason:"start_failed",details:"Session already started, SurflySession.startLeader() does nothing"}),!1):this._api._restoredSessionId&&this._api._restoredSessionId!==this._sessionId&&!e?(this._emit("error",{reason:"start_failed",details:"Refused to start a new session because a previously active session has been restored. Consider disabling `session_autorestore_enabled` option, or start the session with a custom CSS selector"}),!1):(this._checkUserDataType(t),!0)}_block_until_agent_joins(){return new Promise(((t,e)=>{this.queued&&(this.on("participant_joined",(e=>{e._answered&&t()})),this._api._pinModal.pin=this.pin,this._api._pinModal.show().catch((t=>{this.window&&this.end(),this.on("session_loaded",(()=>this.end())),e(t)})))}))}startLeader(t,e){return this._schedule((()=>this._ask_start(t,e))),this}startFollower(t,e){return this._schedule((()=>this._ask_start(t,e,!0))),this}_ask_start(t,e,n,r){const o=this.settings.session_start_confirmation,i=!n&&this.settings.block_until_agent_joins&&!this.settings.hide_until_agent_joins;if(!this._canStart(e,t))return Promise.reject(new Error("Can't start session!"));xt((t=>{t.setExtra("user_data",e)}));let s=Promise.resolve();if(o){if(this._api._features["3rdcookies"])s=s.then((()=>this._api._sessionStartModal.show()));else{if(this.settings.embedded_sessions_only&&!this._tryCookieTrick)return this._handleThirdPartyCookiesTrickResult(!1);s=s.then((()=>on(this._api._sessionStartModal).then((t=>(this.window=t,Pn(t,ge.mainWindow.SURFLY_COBRO_ORIGIN,!this.settings.hide_session_ui&&this.settings.start_with_loading_screen)))).then((t=>{this._api._features["3rdcookies"]=t}))))}s=i?s.then((()=>this._api._sessionStartModal.release())):s.then((()=>this._api._sessionStartModal.hide())),s=s.catch((t=>{throw this._api._sessionStartModal.hide(),r&&r(t),console.debug("After calling permission denied cb, error object is",t),t}))}else if(!this._api._features["3rdcookies"]&&this.settings.embedded_sessions_only&&!this._tryCookieTrick)return this._handleThirdPartyCookiesTrickResult(!1);return s=s.then((()=>this._start(t,e,n))),i&&(s=s.then((()=>this._block_until_agent_joins())).then((()=>this._api._pinModal.hide()))),s=s.catch((t=>{if(!(t instanceof sn))throw t;console.log(t.message)})),s}_start(t,e,n){if(!this._canStart(e,t))return Promise.reject(new Error("Can't start session!"));let r=Promise.resolve();if(this._nodeSelector=t||null,this._create_initiated||!n&&this.created||(this._create_initiated=!0,r=n?r.then((()=>this._createCall())):r.then((()=>this._createCall(e)))),this._start_initiated=!0,!n&&ge.navigator.standalone)ge.mainWindow.location.href=this.leaderLink;else{const t=n?()=>this._openFollower(e):()=>this._openLeader(e);r=r.then((()=>new Promise((t=>this._openWindow(t))))).then(t).then((()=>this._attachListeners()))}return r}_halt(){ge.mainWindow.__surfly||(this.window&&(this.window.close(),this.window=null),this.node&&(this.node.parentNode.removeChild(this.node),this.node=null),null!==Ve&&(ge.mainWindow.document.documentElement.style.overflow=Ve,Ve=null),function(){let t=document.querySelector("#surfly-blocker"),e=document.querySelector("#surfly-splash");t&&(t.style.opacity="0"),e&&(e.style.top="-100%"),setTimeout((()=>{t&&(t.parentNode.removeChild(t),t=null),e&&(e.parentNode.removeChild(e),e=null)}),333)}())}end(t){this._schedule((()=>{ge.mainWindow.__surfly?this._sendApiMessage("widget_message",{srcOrigin:ge.mainWindow.location.origin,targetOrigin:"*",target:"widget",msg:"end_session",redirect:t}):this._sendApiMessage("api_request",{cmd:"end",redirect:t})}))}_sendApiMessage(t,e){const n={sessionId:this._sessionId,type:t,params:e};ge.mainWindow.__surfly?ge.mainWindow.__surfly_CF._surfly_parent.postMessage(n,ge.mainWindow.SURFLY_COBRO_ORIGIN):this.window.postMessage(n,ge.mainWindow.SURFLY_COBRO_ORIGIN)}sendMessage(t,e){this._otherSideReady?this._sendApiMessage("widget_message",{target:"user",msg:t,srcOrigin:ge.mainWindow.location.origin,targetOrigin:e||ge.mainWindow.location.origin}):this._messageBuffer.push({target:"user",msg:t,targetOrigin:e||ge.mainWindow.location.origin})}log(t){const e="Invalid audit log format, please provide a plain JSON object",n=["var0","var1","var2","var3","var4","var5","var6","var7","var8","var9"];let r={};try{if(r=JSON.parse(JSON.stringify(t)),"object"!=typeof t)throw new Error("log data is not an object");n.forEach((t=>{if(r.hasOwnProperty(t)&&"string"!=typeof r[t])throw new Error(`variable ${t} is not a string`)}))}catch(t){throw console.error(e,t),Ot("Invalid audit log used","warning"),new Error(e)}ge.mainWindow.__surfly?ge.mainWindow.__surfly_client_log(r):this._api._widgetKeyProvided("create session logs")&&(this.created?this.window.postMessage({type:"api_request",params:{cmd:"log",msg:r}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.warn("Cannot create log records on a session that has not been created yet.\nPlease call .create() or one of the .start*() methods first."))}giveControl(t){this.makeHost(t)}openTab(t){this.started?this.window.postMessage({type:"api_request",params:{cmd:"open_tab",url:t}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}makeHost(t){this.started?this.window.postMessage({type:"api_request",params:{cmd:"make_host",to:t}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}requestControl(){this.requestToHost()}requestToHost(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"request_to_host"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}requestTabControl(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"request_tab_control"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}revokeTabControl(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"revoke_tab_control"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}returnTabControl(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"return_tab_control"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}relocate(t,e){/^[a-zA-Z0-9+.\-]+:/.test(t)?this.started?this.window.postMessage({type:"api_request",params:{cmd:"relocate",url:t,newTab:Boolean(e)}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet"):console.error("Relocate URL must contain protocol, e.g. https://"+t)}pause(){this.pauseTabs()}pauseTabs(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"pause_tabs"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}resume(){this.resumeTabs()}resumeTabs(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"resume_tabs"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}setDrawingSettings(){console.warn("setDrawingSettings is deprecated"),Ot(`[deprecated][session_id=${this._sessionId}] setDrawingSettings is used`,"warning")}toggleVideochatFullscreen(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"toggle_videochat_fullscreen"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}toggleVideochatMicrophone(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"toggle_videochat_microphone"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}toggleDrawing(){this.started?this.window.postMessage({type:"api_request",params:{cmd:"toggle_drawing"}},ge.mainWindow.SURFLY_COBRO_ORIGIN):console.error("Session is not started yet")}}class Bn{constructor(t,e){this._api=t,this._buttonSettings=e;const n=Ge();n.classList.add("surfly-button-position-"+this.settings.support_button_position),this._frame_classes=n.className,this._node=function(t){let e=document.querySelector(".surfly-button");e&&e.parentNode.removeChild(e),Xe(t),e=document.createElement("div"),e.className="surfly-button surfly-button-hidden";const n="surfly-button-position-"+(t.support_button_position||"bottomleft");e.classList.add(n);const r=document.createElement("span");r.innerHTML=ze.a,e.appendChild(r);const o=document.createElement("span");return o.textContent=Be("Get Live Help"),e.appendChild(o),document.body.appendChild(e),Je("surfly-button "+n),e}(this.settings),this._node.onclick=()=>this._click(),this._refresh()}get settings(){return new Proxy({...this._api.settings,...this._buttonSettings},{set:(t,e,n)=>(this._buttonSettings[e]=n,!0)})}_click(){Et({category:"JS API",message:"Surfly button clicked",level:$.Info}),this._hide();const t=this._api.session(this._buttonSettings),e=()=>{Ge().className=this._frame_classes,this._show()};t._schedule((()=>t._ask_start(void 0,void 0,!1,e)))}_refresh(){this.settings.hide_support_button?this._hide():(!this.settings.hide_support_button_when_unavailable||this._api.agentAvailable?this._show():this._hide(),this.settings.hide_support_button_when_unavailable&&setTimeout(this._refresh.bind(this),1e3))}_show(){this._node.classList.remove("surfly-button-hidden"),this._node.classList.add("surfly-button-visible");const t=Ge();t&&t.classList.contains("surfly-invisible")&&(t.classList.remove("surfly-invisible"),t.classList.add("surfly-button"),this._frame_classes=t.className)}_hide(){this._node.classList.remove("surfly-button-visible"),this._node.classList.add("surfly-button-hidden");const t=Ge();t&&t.classList.contains("surfly-button")&&(t.classList.remove("surfly-button"),t.classList.add("surfly-invisible"),this._frame_classes=t.className)}}function qn(t){if(!ge.DeviceMotionEvent)return;const e=100,n=1e3,r={shakesRequired:3,threshold:30};let o=0;const i={x:0,y:0,z:0};let s=new Date;ge.mainWindow.addEventListener("devicemotion",(function(a){const c=a.accelerationIncludingGravity,u=i.x-c.x,l=i.y-c.y,p=i.z-c.z,f=Math.sqrt(u*u+l*l+p*p),d=(new Date).getTime()-s.getTime();f>r.threshold&&e<d&&(n>d?o++:o=1,s=new Date,o>=r.shakesRequired&&(o=0,t())),i.x=c.x,i.y=c.y,i.z=c.z}),!1)}let Yn=qn;const $n=new Set(["SCRIPT","STYLE","INPUT","TEXTAREA"]);function Hn(t){function e(t){try{if(t.contentWindow===ge)return;t.onload=function(){var e;const r=null==(e=t.contentDocument)?void 0:e.body;r&&n.observe(r,{childList:!0,subtree:!0})},n.observe(t.contentDocument,{subtree:!0,childList:!0})}catch(t){}}const n=new MutationObserver((function(n){for(let r=0;r<n.length;r++){const o=n[r];if(!$n.has(o.target.nodeName))for(let n=0;n<o.addedNodes.length;n++){const r=o.addedNodes[n];if(!$n.has(r.nodeName)){if(r.nodeType===Node.ELEMENT_NODE){const t=r.querySelectorAll("iframe");for(let n=0;n<t.length;n++)e(t[n]);"IFRAME"===r.tagName&&e(r)}t(r)}}}}));n.observe(ge.mainWindow.document,{subtree:!0,childList:!0});const r=ge.mainWindow.document.querySelectorAll("iframe");for(let t=0;t<r.length;t++)e(r[t]);return n}let zn=Hn;var Gn=function(t){return zn(t)};const Jn=["^surfly","!surfly"],Xn=["^video"];function Kn(t={}){0===ge.mainWindow.Surfly.listSessions().length&&ge.mainWindow.Surfly.session(t).on("session_started",(t=>{if(ge.mainWindow.Intercom){const e={surfly_link:t.followerLink,surfly_starturl:ge.mainWindow.location.href,surfly_sessionid:t._sessionId};ge.mainWindow.Intercom("trackEvent","Surfly session started",e)}})).startLeader()}function Vn(t){if(t){const e=t.textContent.trim();Jn.indexOf(e)>=0?Kn():Xn.indexOf(e)>=0&&Kn({start_with_chat_open:!1,videochat_enabled:!0,start_with_videochat_on:!0})}}function Zn(t){if(t.nodeType===Node.ELEMENT_NODE){if(t.className.indexOf&&t.className.indexOf("intercom-conversation-part-")>=0){Vn(t.querySelector(".intercom-comment .intercom-block-paragraph"))}const e=t.querySelectorAll("iframe.intercom-borderless-frame");for(let t=0;t<e.length;t++)try{const n=e[t].contentDocument.querySelectorAll(".intercom-conversation-part .intercom-chat-card-body");for(let t=0;t<n.length;t++)Vn(n[t])}catch(t){}}}function Qn(){Gn(Zn)}function tr(){const t=ge.setInterval((function(){ge.mainWindow.Intercom&&(ge.clearInterval(t),ge.mainWindow.Intercom("shutdown"))}),1e3)}let er=Qn,nr=tr;const rr="^surfly",or="^video";function ir(t={}){0===ge.mainWindow.Surfly.listSessions().length&&ge.mainWindow.Surfly.session(t).startLeader()}function sr(t){(function(t){var e,n,r,o,i;const s=!!(null==(e=t.innerText)?void 0:e.includes(rr))||!!(null==(n=t.innerText)?void 0:n.includes(or)),a=(null==(r=t.innerHTML)?void 0:r.includes("button"))||(null==(o=t.innerHTML)?void 0:o.includes("input"))||(null==(i=t.innerHTML)?void 0:i.includes("textarea"));return s&&!a})(t)&&function(t){if(t){const e=t.innerText.trim();e.includes(rr)?ir():e.includes(or)&&ir({start_with_chat_open:!1,videochat_enabled:!0,start_with_videochat_on:!0})}}(t)}const ar="^surfly",cr="^video";function ur(t={}){0===ge.mainWindow.Surfly.listSessions().length&&ge.mainWindow.Surfly.session(t).startLeader()}function lr(t){t.message.body===ar?ur():t.message.body===cr&&ur({start_with_chat_open:!1,videochat_enabled:!0,start_with_videochat_on:!0})}function pr(){const t=function(){const t=ge.mainWindow.olark;return t||console.warn("Olark API was not found"),t}();t&&(t("api.chat.onMessageToOperator",lr),t("api.chat.onMessageToVisitor",lr))}const fr="^surfly",dr="^video",hr=`type "${fr}" to start a co-browsing session, or "${dr}" for a videochat.`;function _r(){const t=ge.mainWindow.LC_API;return t||console.warn("LiveChat API was not found"),t}function yr(t={}){const e=_r();e&&(ge.document.hidden?console.warn("Ignoring cobrowsing request because the current browser tab is not active"):0===ge.mainWindow.Surfly.listSessions({active:!0}).length&&ge.mainWindow.Surfly.session(t).on("session_created",(t=>{e.set_custom_variables([{name:"Co-browse URL",value:t.followerLink}])})).on("session_ended",(t=>{e.set_custom_variables([{name:"Co-browse URL",value:hr}])})).startLeader())}const gr="surfly_default_settings:";function mr(t,e){if(!Ue())return;const n=gr+t;localStorage.setItem(n,JSON.stringify(e))}var vr=(t=>(t.TYPE_TOP="T",t.TYPE_FRAME="F",t.TYPE_AUX="A",t.TYPE_SCRIPT="S",t.TYPE_MODULE="M",t.TYPE_LINK="L",t.TYPE_XHR="X",t.TYPE_RESOURCE="R",t.TYPE_WORKER="W",t.TYPE_WORKER_SCOPE="Y",t.TYPE_REDIRECT="D",t.TYPE_PAWS="P",t.TYPE_CONTINUATION="C",t.TYPE_UNKNOWN="U",t))(vr||{});const br="TFASMLXRWYDPCU";var wr=n(16),Sr=n.n(wr),Or=n(47),xr=n.n(Or);const Er={9:"0",Z:"A",z:"a"};const jr={0:"9",A:"Z",a:"z"};function kr(t,e,n){if("string"!=typeof t)throw new TypeError("String expected in mangler");return Array.prototype.map.call(t,(function(t){return function(t){const e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}(t)?e[t]||String.fromCharCode(t.charCodeAt(0)+n):t})).reverse().join("")}var Rr={encode:function(t){return kr(t,Er,1)},decode:function(t){return kr(t,jr,-1)}};const Tr=new Array(10).join("/"),Ir="SURFLYROOT"+new Array(10).join("/"),Ar="((?:/[_ %a-zA-Z0-9-]+)*)(?:/(:\\d+))?/([HS])(["+br+"])/(?:[a-zA-Z0-9]+)/{1,9}",Lr=4,Pr=/^(\s*)(https?:)?\/\/([_ %a-z0-9.-]+\.[a-z0-9-]{1,63})(:[0-9]{0,5})?(\/blob)?([/#?]|\s*$)/i,Cr=/^(?:https?:\/\/|\/\/)([^\/:?#]{3,63})(?:[\/:?#]|$)/i,Nr=new RegExp("[?&]SURFLY=(["+br+"])"),Ur=new RegExp("[?&]SURFLY_TAB_PREFIX=([a-zA-Z0-9_$%*.!~`)(-]+)"),Fr=new RegExp("[?&]SURFLY_TOP_FRAME_DEPTH=([0-9]*)"),Wr=new RegExp(Ar),Mr=new RegExp(Ar,"g"),Dr=10,Br=new RegExp(`^\\s*(\\w{3,${Dr}})(&colon;|:)`,"i"),qr=/^https?:\/\//,Yr=new RegExp(`[^.]+\\.(?:${["co.uk","w3c-test.org"].join("|")}|[^.]+)$`),$r=/^https?:\/\/(localhost|127.0.0.1)/i;function Hr(t){return t?"-m":"-p"}function zr(t){return t.replace(/\./g,"\\.")}function Gr(t){return"([- %\\w]+[ %\\w]+)-[pm]\\."+zr(t)}function Jr(t){return new RegExp("https://"+Gr(t)+"(?:"+Ar+"(.?))?","g")}function Xr(t){const e=Cr.exec(t);if(e&&2===e.length)return e[1]}function Kr(t,e){let n=t.split("/").slice(1).reverse();return e&&(n=n.map(Rr.decode)),n.join(".")}class Vr{constructor(t){var e,n,r;this.adBlockingRules=[["_analytics.js?","___SURFLY_a__nalytics.js?"]],this.server_name=t.server_name,this.urltoken=t.urltoken,this.session_id=t.session_id,this.parent_session_id=t.parent_session_id,this.url_mangling=null!=(e=t.url_mangling)&&e,this.isPrivacyHeaders=null!=(n=t.isPrivacyHeaders)&&n,this.isLocalhostAllowed=null!=(r=t.isLocalhostAllowed)&&r}getDomainSuffix(){return Hr(this.url_mangling)+"."+this.server_name}isProxified(t){return new RegExp(`${Hr(this.url_mangling)}\\.${zr(this.server_name)}`,"i").test(t)}unproxifyHostname(t){let e;if("string"==typeof t)try{const n=this.externalResourcePattern();0===t.indexOf(n)&&(t=t.replace(n,""));let r=Jr(this.server_name).exec(t);const o=null==r?void 0:r[2];o?e=Kr(o,this.url_mangling):(r=Pr.exec(t),r&&(e=r[3]))}catch(e){return this.reportError(e),t}return e}unproxifyHost(t){if("string"==typeof t)try{const e=this.unproxifyHostname(t),n=Jr(this.server_name).exec(t);return n&&n[3]?e+n[3]:e}catch(t){this.reportError(t)}return t}unproxifyProtocol(t){if("string"==typeof t)try{const e=this.externalResourcePattern();t.startsWith(e)&&(t=t.replace(e,""));let n=Jr(this.server_name).exec(t);if(n){if("S"===n[4])return"https:";if("H"===n[4])return"http:"}if(n=Pr.exec(t),n){const t=n[2];if(t)return t.toLowerCase()}return}catch(t){this.reportError(t)}return t}removeSurflyroot(t){if(-1!==t.indexOf(Ir)){const e=Zr(t),n=t.indexOf(this.urltoken);-1!==n&&(t=t.substring(0,n+this.urltoken.length)+e)}return t}unproxifyUrls(t){if("string"!=typeof t)return t;try{const n=this.externalResourcePattern();if(0===t.indexOf(n))return t.replace(n,"");const r=(e=this.server_name,new RegExp("https://"+Gr(e)+"/hidden_tab","g")).exec(t);if(r)return r[0];const o=Br.exec(t);if(o&&["data","blob"].includes(o[1]))return t;t=this.removeSearchSuffixes(t);let i=!1;if(t=Zr(t=(t=t.replace(Jr(this.server_name),((t,...e)=>(i=!0,function(t,e,n,r,o,i,s,a){const c="S"===i?"https:":"http:";let u;if(void 0===r){throw"Surfly: url "+e+" has no domainpath. cannot be unproxified."}a&&!/^[\s'"?#\/)]/.test(a[0])&&(a=`/${a}`);return u=c+"//"+Kr(r,t)+(o||""),u=function(t){const e=Xr(t);e&&(t=t.replace(Sr.a.toASCII(e),Sr.a.toUnicode(e)));return t}(u),u+(a||"")}(this.url_mangling,t,...e))))).replace(uo,"$1/")),!i){const e=t.replace(Mr,"");t=e!==t&&"/"!==e[0]?"/"+e:e}return"m"===this.urltoken[0]&&(t=t.replace(this.urltoken,"")),t}catch(t){this.reportError(t)}var e;return t}removeSearchSuffixes(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(Qr,"")).replace(no,"")).replace(ro,"")).replace(oo,"")).replace(io,"")).replace(so,"")).replace(Ur,"")).replace(Fr,"")).replace(to,"")).replace(eo,"")).replace(ao,"")).replace(co,""),t=this.decodeAdBlocking(t)}proxifyDomain(t){return function(t,e,n){const r=t.match(Yr);if(!r){throw"No match for check_domain_re on domain "+t}let o=function(t){return t.replace(/0/g,"00").replace(/-/g,"-0-").replace(/\./g,"-")}(r[0]);n&&(o=function(t,e){const n=new xr.a("SHA-1","TEXT");return n.update(t.toLowerCase()+e),n.getHash("HEX")}(o,e));return o}(t,this.parent_session_id||this.session_id,this.url_mangling)+this.getDomainSuffix()}toDomainPath(t){let e=t.split(".");return this.url_mangling&&(e=e.map(Rr.encode)),"/"+e.reverse().join("/")}proxifyOrigin(t){const e=/^https?:\/\/([\w-.]+)/.exec(t);return(null==e?void 0:e[1])?"https://"+this.proxifyDomain(e[1]):(this.reportError(`Unable to extract domain from provided origin: ${t}`),null)}getUnproxifiedOrigin(t){const e=this.unproxifyProtocol(t.location.href),n=this.unproxifyHost(t.location.href);return e&&n?e+"//"+n:""}insertSuffix(t,e){const n=this._getURLProtocol(t);return n&&"http"!==n?t:t.replace(lo,`${e}$1`)}getSuffixValue(t,e){if(t.includes(`${e}=`)){const[n,r=""]=t.split(`${e}=`),[o]=r.split(/[&?]/);return o}return null}setType(t,e){return _o(t)===e?t:(t=t.replace(Nr,""),this.insertSuffix(t,"?SURFLY="+e))}proxifyUrl(t,e,n,r=!1){let o,i;if(null===t)return t;if(o="object"==typeof t?t+"":t,this.isLocalhostAllowed&&this.isLocalURL(o))return this.removeSearchSuffixes(o);try{i=this._proxifyUrl(o,e,n,r),i=this.encodeAdBlocking(i)}catch(e){return this.reportError(e),t}return i===o?t:i}_getURLProtocol(t){var e;const n=null==(e=Br.exec(t))?void 0:e[1];return n?n.slice(0,4):null}_proxifyUrl(t,e,n,r){if(t=function(t){const e=Xr(t);return e&&(t=t.replace(Sr.a.toUnicode(e),Sr.a.toASCII(e))),t}(t=function(t){return/^https?:\/[^\/]/.test(t)?t.replace(/^https?:\//,"/"):t}(t=function(t){const e=t.indexOf(":");if(-1===e||e>Dr||t.startsWith("/"))return t;const n=t.substring(0,e);return t.replace(n,n.toLowerCase())}(t=t.trim()))),n===vr.TYPE_REDIRECT&&qr.test(t))return this.externalResourcePattern()+t;const o=this._getURLProtocol(t);if(o&&"http"!==o)return t;if([vr.TYPE_TOP,vr.TYPE_FRAME].includes(n)){if(e&&e===n&&"#"===t[0])return t;{const e=this.getTabPrefix();e&&!Ur.exec(t)&&(t=this.insertSuffix(t,"?SURFLY_TAB_PREFIX="+e)),t=this.insertFrameoriginSuffix(t)}}let i=!1,s=!1;return t=t.replace(Pr,((t,e,o,a,c,u,l)=>{if(i=!0,this.isProxified(a))return s=!0,t;const p=new RegExp(`session[0-9]{0,2}\\.${this.server_name}`);if(u&&a.match(p))return t;const f="https:"===(o=o?o.toLowerCase():this.getDefaultProtocol()).toLowerCase()?"S":"H";c=c&&":"!==c?"/"+c:"";let d=this.toDomainPath(a);if(d&&r&&(d=d.toLowerCase()),!a)return t;return`${e}https://${this.proxifyDomain(a)+d+c}/${f}${n}/${this.urltoken}${Tr}${l}`})),i?(s&&(t=this.setType(t,n)),t):("/"===t[0]&&(t=Ir+t,n===vr.TYPE_MODULE&&(t="./"+t)),this.setType(t,n))}proxifyCssUrls(t,e){return t.replace(ho,((t,n,r,o,i,s,a)=>{let c;if(n){const s="@"===n[0]?vr.TYPE_LINK:e;return c=o.trim(),c?"#"===c[0]||0===o.indexOf("data:")?t:n+r+this.proxifyUrl(fo(o),null,s,!1)+i:t}return r=a[0],a=a.slice(1,-1),c=(a=this.proxifyUrl(fo(a),null,vr.TYPE_LINK,!1)).trim(),c?"#"===c[0]||0===a.indexOf("data:")?t:s+r+a+r:t}))}replaceUrlPart(t,e,n,r,o){return o=o||_o(e),"object"==typeof r&&r.hasOwnProperty("toString")&&(r=r.toString()),"href"===n?go.test(r)?this.proxifyUrl(r,t,o,!1):"/"===r[0]?Ir+r:r:(e=function(t,e,n){return t.replace(go,(function(t,r,o,i,s){switch(e){case"protocol":o=function(t,e){if(t[t.length-1]!==e)return t+e;return t}(n,":");break;case"host":case"hostname":i=n}return r+o+"//"+i+function(t,e,n){return t.replace(mo,(function(t,r,o,i){switch(o=o||"",i=i||"",e){case"pathname":r=yo("/",n);break;case"search":o=yo("?",n);break;case"hash":i=yo("#",n)}return r+o+i}))}(s,e,n)}))}(e=this.unproxifyUrls(e),n,r),this.proxifyUrl(e,t,o,!1))}isLocalURL(t){return $r.test(t.toString())}reportError(t){console.error(t)}escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}encodeAdBlocking(t){return this.encodeOrDecodeAdBlocking(t,((t,e,n)=>{const r=new RegExp(this.escapeRegExp(e),"g");return t.replace(r,n)}))}decodeAdBlocking(t){return this.encodeOrDecodeAdBlocking(t,((t,e,n)=>{const r=new RegExp(this.escapeRegExp(n),"g");return t.replace(r,e)}))}encodeOrDecodeAdBlocking(t,e){let n=t;for(const[t,r]of this.adBlockingRules)n=e(n,t,r);return n}externalResourcePattern(){return`https://external.${this.server_name}/external_resource/?is_ph=${this.isPrivacyHeaders}&url=`}}function Zr(t){const e="SURFLYROOT",n={" ":1,"\n":1,"\t":1,"'":1,'"':1,"?":1,"#":1,"(":1,")":1,"\f":1,"\r":1,"\v":1};let r,o,i,s;for(;(o=t.lastIndexOf(e))>-1;){r="",i="";for(let n=0;n<=9&&"/"===t[o+e.length+n];n++)r+="/";for(s=1;o-s>-1&&!(t[o-s]in n);)s++;i=t.substring(o-s+1,o),t=t.replace(i+e+r,"/")}return t}const Qr=new RegExp(`[?&]SURFLY=([${br}])`,"g"),to=new RegExp("[?&]SURFLY_ORPHAN=[a-zA-Z0-9_]+","g"),eo=new RegExp("[?&]SURFLY_NEW_TAB=[a-zA-Z0-9_]+","g"),no=new RegExp("[?&]SURFLYORIGIN=([^?&#]*)","g"),ro=new RegExp("[?&]SURFLYFRAMEORIGIN=([^?&#'\"]*)","g"),oo=new RegExp("[?&]SURFLY_DOWNLOAD=([^?&#]*)","g"),io=new RegExp("[?&]SURFLYCF=[0-9-]+","g"),so=new RegExp("[?&]SURFLYOPENER=[0-9_]*","g"),ao=new RegExp("[?&]SURFLY_CHARSET=([^?&#]*)","g"),co=new RegExp("[?&]SURFLY_BOOT_ID=-?d*","g"),uo=/(https?:\/\/[a-z0-9.-]+\.[a-z0-9-]{1,63}(:[0-9]{0,5})?)(\/(?:[^\s'"?#()]*?SURFLYROOT\/{0,10})+)/g;const lo=/(#|\?|$)/,po=/\\([0-9a-fA-F]+) ?/g;function fo(t){return t.replace(po,(function(t,e){return String.fromCharCode(parseInt(e,16))}))}const ho=/((?:@import\s+)?url\s*\(\s*)(['"]?)(\s*.*?)(\2\s*\))|(@import\s*)((?:"(?:[^"]+)")|(?:\'(?:[^\']+)\'))/gi;function _o(t){if("string"==typeof t&&"data:"===t.slice(0,5))return null;let e=Nr.exec(t);return e?e[1]:(e=Wr.exec(t),e?e[Lr]:"string"==typeof t&&t.includes("/hidden_tab")?vr.TYPE_AUX:null)}function yo(t,e){return e[0]!==t?"/"!==t&&""===e?e:t+e:e}const go=/^(\s*)(https?:)?\/\/([^\/]+)(.*)\s*/i;const mo=/([^?#]+)(\?[^#]*)?(#.*)?/;class vo extends Vr{constructor(t){super(t),this.protocol=null,this.protocol=t.protocol}getDefaultProtocol(){return this.protocol||"https:"}getTabPrefix(){return null}insertFrameoriginSuffix(t){return t}}const bo={branding_primary_text_color:{aliases:["branding_primary_fg_color"]},branding_secondary_text_color:{aliases:["branding_secondary_fg_color"]},session_start_confirmation:{aliases:["confirm_session_start"]},start_with_loading_screen:{aliases:["show_loading_screen"]},start_with_invite_modal:{aliases:["splash"]},hide_session_ui:{aliases:["ui_off"]},session_autorestore_enabled:{aliases:["auto_restore"]},hide_support_button_when_unavailable:{aliases:["autohide_button"]},end_redirect_enabled:{aliases:["disable_end_redirect"],flip_alias_value:!0},hide_support_button:{aliases:["hidden"]},embedded_sessions_only:{aliases:["only_embedded_sessions"]},support_button_position:{aliases:["position"]},key_combo_to_start:{aliases:["stealth_mode"]},hide_element_by_selector:{aliases:["hide_selector"]}};let wo=Dn;const So=new class{constructor(){this._notadummy=!0,this._initStatus={started:!1,finished:!1,successful:null,message:"Surfly.init() not called"},this._userSettings=null,this._defaultSettings=null,this._currentSession=null,this._readyCallback=null,this._allSessions=[],this._agentAvailable=null,this._features={},this._globalEventsEmitter=new Wn,this._sessionEventHandlers={},this._translationLoaded=!1,this._restoredSessionId=null,this._pinModal=new un(this),this._thirdPartyCookiesModal=new ln(this),this._sessionStartModal=new cn(this),Cn.forEach((t=>{this._sessionEventHandlers[t]=[]}))}get settings(){return new Proxy({...this._defaultSettings,...this._userSettings},{set:(t,e,n)=>(this._userSettings[e]=n,!0)})}init(t,e){this._initStatus.started?console.error("Surfly.init() has already been called!"):(this._initStatus.started=!0,this._initStatus.message="Started","widgetkey"in t&&(t.widget_key=t.widgetkey,delete t.widgetkey),this._userSettings=Object.assign({},t),this._userSettings=this._normalizeWidgetSettingsName(this._userSettings),xt((t=>{t.setTags({user_settings:JSON.stringify(this._userSettings),inside_session:this.isInsideSession})})),Et({category:"JS API",message:"Surfly.init() called",level:$.Info}),this._readyCallback=e,this._checkBrowserFeatures(),this._getDefaultSettings(),"widget_key"in t?xt((e=>{e.setTag("widget_key",t.widget_key)})):this._userSettings.verbose_console&&console.warn("No widget_key provided in settings. You won't be able to create sessions, queue sessions, or check agent status from the JS API. See https://docs.surfly.com/advanced-integration.html#header-full-featured-custom-session-id-approach for more details."))}_emit(t,e){Nn.indexOf(t)>=0&&Et({category:"JS API",message:"global event",data:{eventName:t,eventData:JSON.stringify(e)},level:$.Info}),this._globalEventsEmitter.emit(t,e)}_widgetKeyProvided(t){return!(!("widget_key"in this._userSettings)||!this._userSettings.widget_key)||(console.warn("Can't "+t+" without a widget key. To allow this, provide a widget key when calling Surfly.init()."),!1)}_assertInitialized(t){return!!this._initStatus.successful||(console.error(`Surfly is not initialized properly: ${this._initStatus.message}.\nDid you forget Surfly.init()?`),Ot(t+" called with uninitialized API: "+this._initStatus.message,"info"),!1)}_checkReady(){if(!this._initStatus.finished&&void 0!==this._features.WS&&void 0!==this._features.MO&&void 0!==this._features["3rdcookies"]&&(!("widget_key"in this._userSettings)||null!==this._defaultSettings)&&this._translationLoaded){this.settings.verbose_console&&console.log("Surfly widget initialized, calling callback"),this._initStatus.finished=!0;let t,e=!0;if(!1===this._features.WS?(this._initStatus.message="WebSockets support is required",e=!1):!1===this._features.MO?(this._initStatus.message="MutationObserver support is required",e=!1):!1===this._defaultSettings&&(this._initStatus.message="Could not retrieve default settings from server",e=!1),e?this._initStatus.message="Success":console.error(this._initStatus.message),this.settings.block_until_agent_joins&&!this.settings.hide_until_agent_joins&&(this.settings.start_with_loading_screen=this.settings.start_with_invite_modal=!1),ge.mainWindow.__surfly){const t=ge.mainWindow.__surfly_CF.ss_bootstrap_config.PARENT_SESSION_ID;this._currentSession=new wo(this,this._userSettings,null,t),this._currentSession._isLeader=!0,Cn.forEach((t=>{this._sessionEventHandlers[t].forEach((e=>{this._currentSession.on(t,e)}))})),this._allSessions.push(this._currentSession)}if(this.settings.key_combo_to_start&&!ge.mainWindow.__surfly&&ge.mainWindow.document.addEventListener("keydown",(t=>{if(t.ctrlKey&&13===t.keyCode){this.listSessions().some((t=>t.started&&!t.ended))?console.warn("There is an active session already, ignoring the keystroke"):this.session().startLeader()}})),ge.mainWindow.addEventListener("hashchange",(()=>{"#surflystart"===ge.mainWindow.location.hash&&(Et({category:"JS API",message:"#surflystart hashchange",level:$.Info}),this.session().startLeader())})),this._initStatus.successful=e,this._features["3rdcookies"]&&(t=Ie("surfly_restore_session")),!ge.mainWindow.__surfly)if(t){this.settings.verbose_console&&console.log(`Found a session to restore ${t}`),Le("surfly_restore_session");const e=this.session({},null,t);this._restoredSessionId=t,this._emit("session_restored",{session:e}),e.on("session_created",(e=>{e.ended?(console.warn("Session is already ended, nothing to restore"),Et({category:"JS API",message:"restore_session expired",data:{id:t},level:$.Info}),this._restoredSessionId=null):(Et({category:"JS API",message:"Restoring active session",data:{id:t},level:$.Info}),e.settings.session_start_confirmation=!1,e.startLeader())}))}else"#surflystart"===ge.mainWindow.location.hash&&(Et({category:"JS API",message:"#surflystart detected",level:$.Info}),this.session().startLeader());this.settings.shake_to_start&&!ge.mainWindow.__surfly&&function(){Yn.apply(this,arguments)}((()=>{0===this.listSessions().length&&(this.session().startLeader(),Et({category:"JS API",message:"Shook to start",level:$.Info}))})),this._initChatIntegration(),Et({category:"JS API",message:"JS API initialized",data:{success:e,errorMsg:this._initStatus.message},level:$.Info});try{this._readyCallback({success:e,errorMsg:this._initStatus.message})}catch(t){throw Et({category:"JS API",message:"Exception in user callback",data:{error:""+t},level:$.Warning}),t}}}get agentAvailable(){if(this._widgetKeyProvided("check agent availability"))return null===this._agentAvailable&&this._startAgentPoll(),this._agentAvailable}_initChatIntegration(){"intercom"===this.settings.chat_integration?ge.mainWindow.__surfly?function(){nr.apply(this,arguments)}():(!function(){er.apply(this,arguments)}(),Et({category:"JS API",message:"Intercom integration started",level:$.Info})):"zendesk"===this.settings.chat_integration?ge.mainWindow.__surfly?ge.setInterval((function(){try{const t=ge.mainWindow.document.querySelectorAll(".zopim,.zEWidget-launcher,#launcher");for(let e=0;e<t.length;e++)t[e].style.display="none"}catch(t){}}),2e3):(Gn(sr),Et({category:"JS API",message:"Zendesk integration started",level:$.Info})):"olark"===this.settings.chat_integration?ge.mainWindow.__surfly?ge.setInterval((function(){ge.mainWindow.olark&&ge.mainWindow.olark("api.box.hide")}),2e3):(pr(),Et({category:"JS API",message:"Olark integration started",level:$.Info})):"livechat"===this.settings.chat_integration&&(ge.mainWindow.__surfly?function(){const t=_r();t&&(t.on_before_load=function(){t.hide_chat_window()})}():(!function(){const t=_r();t&&(t.on_chat_started=function(){t.set_custom_variables([{name:"Co-browse URL",value:hr}])},t.on_message=function(t){const e=t.timestamp,n=Math.floor(Date.now()/1e3);Math.abs(e-n)>3||(t.text===fr?yr():t.text===dr&&yr({start_with_chat_open:!1,videochat_enabled:!0,start_with_videochat_on:!0}))})}(),Et({category:"JS API",message:"Livechat integration started",level:$.Info})))}_startAgentPoll(){null===this._agentAvailable&&(this._agentAvailable=void 0);be(ge.mainWindow.SURFLY_COBRO_ORIGIN+"/v2/queue/status/?api_key="+this._userSettings.widget_key).then((t=>{const e=this._agentAvailable;this._agentAvailable=t.agent_available,this._checkReady(),e!==this._agentAvailable&&this._emit("agent_status",{available:this._agentAvailable}),setTimeout(this._startAgentPoll.bind(this),5e3)}),(t=>{const e=this._agentAvailable;console.error(t.detail||t),St(new Error(t.detail||t)),this._agentAvailable=!1,this._checkReady(),e!==this._agentAvailable&&this._emit("agent_status",{available:this._agentAvailable})}))}_checkBrowserFeatures(){In(ge.mainWindow.SURFLY_COBRO_ORIGIN,!1,!1).then((t=>{this._features["3rdcookies"]=t,xt((t=>{t.setTags({thirdPartyCookies:this._features["3rdcookies"]})})),this._checkReady()})),function(t){const e=Pe("surfly_MO");let n;null!==e?n=e:void 0===window.WebKitMutationObserver&&"undefined"==typeof MutationObserver?(console.error("MutationObserver is not available"),n=!1,Ce("surfly_MO",n)):(n=!0,Ce("surfly_MO",n)),t(n)}((t=>{this._features.MO=t,xt((t=>{t.setTags({MutationObserver:this._features.MO})})),this._checkReady()})),function(t){const e=Pe("surfly_WS");let n;null!==e?n=e:window.WebSocket||window.MozWebSocket?(n=!0,Ce("surfly_WS",n)):(n=!1,Ce("surfly_WS",n)),t(n)}((t=>{this._features.WS=t,xt((t=>{t.setTags({ws:this._features.WS})})),this._checkReady()}))}_normalizeWidgetSettingsName(t){const e=[];for(const[t,n]of Object.entries(bo)){const r=[t,...n.aliases];e.push(r)}const n=Object.assign({},t);for(const[r,o]of Object.entries(t))for(const t of e){const e=t[0];r===t[1]&&(delete n[r],n[e]=bo[e].flip_alias_value?!o:o,console.info(`Alias ${e} of ${r} is used with value ${n[e]}`))}return n}_getDefaultSettings(){if(null!==this._defaultSettings)return;const t=t=>{this._defaultSettings=t,this.settings.language||(console.warn("No language setting or widget key provided, defaulting to english language"),this.settings.language="en"),this._fetchTranslation(this.settings.language),this._checkReady()};if(this._widgetKeyProvided("get default settings from server")){const e=function(t){if(!Ue())return null;const e=gr+t;let n=localStorage.getItem(e);try{n=JSON.parse(n)}catch(t){n=null}return n}(this._userSettings.widget_key);e?(t(e),this._fetchDefaultSettingsInBackground()):this._fetchDefaultSettings(t)}else t({})}_fetchDefaultSettings(t){be(ge.mainWindow.SURFLY_COBRO_ORIGIN+"/v2/company/options/?api_key="+this._userSettings.widget_key).then((e=>{mr(this._userSettings.widget_key,e),t(e)}),(t=>{this._defaultSettings=!1,console.error("Couldn't retrieve default settings: "+t),this._checkReady()}))}_fetchDefaultSettingsInBackground(){be(ge.mainWindow.SURFLY_COBRO_ORIGIN+"/v2/company/options/?api_key="+this._userSettings.widget_key).then((t=>{mr(this._userSettings.widget_key,t)}),(t=>{console.error("Error retrieving default settings: ",t)}))}_fetchTranslation(t){if("en"===t)return this._translationLoaded=!0,void this._checkReady();5===(t=t.replace("-","_")).length&&(t=t.substring(0,3)+t.substring(3).toUpperCase()),7===t.length&&(t=t.substring(0,3)+t[3].toUpperCase()+t.substring(4));be(`${ge.mainWindow.SURFLY_COBRO_ORIGIN}/static/dashboard/translations/${t}.json`).then((t=>{var e,n;e=t,n=this.settings.verbose_console,Me=new We.a({allowMissing:!n}),Me.extend(e),De=!0,this._translationLoaded=!0,this._checkReady()}),(t=>{this._translationLoaded=!0,console.error("Error retrieving translation: "+t),this._checkReady()}))}get currentSession(){if(this._initStatus.successful&&ge.mainWindow.__surfly)return this._currentSession}get isInsideSession(){return Boolean(ge.mainWindow.__surfly)}testConnection(t){console.warn("Surfly.testConnection() is deprecated: WebSocket connection is not required anymore"),Ot("Surfly.testConnection() called","info"),t.call(this,{success:!0,errorMsg:null})}listSessions(t={}){return this._assertInitialized("Surfly.listSessions()")?t.active?this._allSessions.filter((t=>!t.ended)):this._allSessions:null}on(t,e){if(Et({category:"JS API",message:`Attaching to ${t}`,level:$.Info}),-1!==Cn.indexOf(t))this._sessionEventHandlers[t].push(e),this.listSessions().forEach((n=>{n.on(t,e)}));else if(-1!==Un.indexOf(t)){const n="agent_status"===t&&null===this._agentAvailable;if(n&&!this._widgetKeyProvided("listen for agent_status"))return this;this._globalEventsEmitter.addListener(t,e.bind(this,this)),n&&this._startAgentPoll()}else console.warn("Unknown event",t);return this}session(t,e,n){if(!this._assertInitialized("Surfly.session()"))return null;if(!e&&!n&&!this._widgetKeyProvided("create a new session (without a link or session ID)"))return;if(ge.mainWindow.__surfly)return console.error("Cannot create sessions inside a session"),null;const r=new wo(this,t,e,n);return Cn.forEach((t=>{this._sessionEventHandlers[t].forEach((e=>{r.on(t,e)}))})),this._allSessions.push(r),r}button(t){return this._assertInitialized("Surfly.button()")&&this._widgetKeyProvided("create sessions with a button")?ge.mainWindow.__surfly?null:(Et({category:"JS API",message:"Surfly button added",level:$.Info}),new Bn(this,t)):null}proxifyUrl(t,e,n,r,o=!1){var i;return new vo({server_name:r,session_id:n,parent_session_id:null==(i=ge.mainWindow.__surfly_CF)?void 0:i.ss_bootstrap_config.PARENT_SESSION_ID,url_mangling:o,urltoken:e}).proxifyUrl(t,null,vr.TYPE_TOP)}_escapeHTML(t){return t?t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):t}};if(window.mainWindow=window.parent,!window.__surfly){const t="#{SENTRY_DSN}",e=!/^#\{SENTRY_DSN\}$/.test(t);e||console.info("SENTRY_DSN environment variable is not replaced. Default value is used."),function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=se),void 0===t.release){var e=Object(f.e)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!1),function(t,e){!0===e.debug&&b.enable();var n=R(),r=new t(e);n.bindClient(r)}(Vt,t),t.autoSessionTracking&&function(){var t=Object(f.e)(),e=R(),n="complete"===document.readyState,r=!1,o=function(){r&&n&&e.endSession()},i=function(){n=!0,o(),t.removeEventListener("load",i)};e.startSession(),n||t.addEventListener("load",i);try{var s=new PerformanceObserver((function(t,e){t.getEntries().forEach((function(t){"first-contentful-paint"===t.name&&t.startTime<a&&(e.disconnect(),r=!0,o())}))})),a="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(t){a=Math.min(a,t.timeStamp)}),{once:!0}),s.observe({type:"paint",buffered:!0})}catch(t){r=!0,o()}}()}({dsn:e?t:"",release:"unknown",integrations:[new ue.GlobalHandlers({onunhandledrejection:!1}),new _e({iteratee:t=>("<anonymous>"===t.filename&&(t.filename="~/static/bundles/widget/apiframe.js"),t)})]}),xt((t=>{t.setTag("logger","jsapi")}))}window.mainWindow.Surfly&&window.mainWindow.Surfly._notadummy||(window.mainWindow.Surfly&&window.mainWindow.Surfly.q&&So.init.apply(So,window.mainWindow.Surfly.q),window.mainWindow.Surfly=So)},,,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));var r=n(5),o=n(15),i={nowSeconds:function(){return Date.now()/1e3}};var s=Object(o.b)()?function(){try{return Object(o.a)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=Object(r.e)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),a=void 0===s?i:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},c=i.nowSeconds.bind(i);a.nowSeconds.bind(a),function(){var t=Object(r.e)().performance;if(t)t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}()}).call(this,n(26)(t))}]);